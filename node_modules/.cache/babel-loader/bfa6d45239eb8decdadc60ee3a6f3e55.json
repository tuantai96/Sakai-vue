{"ast":null,"code":"/*!\n  * vue-i18n v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar shared = require('@intlify/shared');\n\nvar coreBase = require('@intlify/core-base');\n\nvar vue = require('vue');\n/**\r\n * Vue I18n Version\r\n *\r\n * @remarks\r\n * Semver format. Same format as the package.json `version` field.\r\n *\r\n * @VueI18nGeneral\r\n */\n\n\nconst VERSION = '9.2.2';\nlet code$1 = coreBase.CoreWarnCodes.__EXTEND_POINT__;\n\nconst inc$1 = () => ++code$1;\n\nconst I18nWarnCodes = {\n  FALLBACK_TO_ROOT: code$1,\n  NOT_SUPPORTED_PRESERVE: inc$1(),\n  NOT_SUPPORTED_FORMATTER: inc$1(),\n  NOT_SUPPORTED_PRESERVE_DIRECTIVE: inc$1(),\n  NOT_SUPPORTED_GET_CHOICE_INDEX: inc$1(),\n  COMPONENT_NAME_LEGACY_COMPATIBLE: inc$1(),\n  NOT_FOUND_PARENT_SCOPE: inc$1() // 13\n\n};\nconst warnMessages = {\n  [I18nWarnCodes.FALLBACK_TO_ROOT]: `Fall back to {type} '{key}' with root locale.`,\n  [I18nWarnCodes.NOT_SUPPORTED_PRESERVE]: `Not supported 'preserve'.`,\n  [I18nWarnCodes.NOT_SUPPORTED_FORMATTER]: `Not supported 'formatter'.`,\n  [I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE]: `Not supported 'preserveDirectiveContent'.`,\n  [I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX]: `Not supported 'getChoiceIndex'.`,\n  [I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE]: `Component name legacy compatible: '{name}' -> 'i18n'`,\n  [I18nWarnCodes.NOT_FOUND_PARENT_SCOPE]: `Not found parent scope. use the global scope.`\n};\n\nfunction getWarnMessage(code, ...args) {\n  return shared.format(warnMessages[code], ...args);\n}\n\nlet code = coreBase.CompileErrorCodes.__EXTEND_POINT__;\n\nconst inc = () => ++code;\n\nconst I18nErrorCodes = {\n  // composer module errors\n  UNEXPECTED_RETURN_TYPE: code,\n  // legacy module errors\n  INVALID_ARGUMENT: inc(),\n  // i18n module errors\n  MUST_BE_CALL_SETUP_TOP: inc(),\n  NOT_INSLALLED: inc(),\n  NOT_AVAILABLE_IN_LEGACY_MODE: inc(),\n  // directive module errors\n  REQUIRED_VALUE: inc(),\n  INVALID_VALUE: inc(),\n  // vue-devtools errors\n  CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN: inc(),\n  NOT_INSLALLED_WITH_PROVIDE: inc(),\n  // unexpected error\n  UNEXPECTED_ERROR: inc(),\n  // not compatible legacy vue-i18n constructor\n  NOT_COMPATIBLE_LEGACY_VUE_I18N: inc(),\n  // bridge support vue 2.x only\n  BRIDGE_SUPPORT_VUE_2_ONLY: inc(),\n  // need to define `i18n` option in `allowComposition: true` and `useScope: 'local' at `useI18n``\n  MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION: inc(),\n  // Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly\n  NOT_AVAILABLE_COMPOSITION_IN_LEGACY: inc(),\n  // for enhancement\n  __EXTEND_POINT__: inc() // 29\n\n};\n\nfunction createI18nError(code, ...args) {\n  return coreBase.createCompileError(code, null, {\n    messages: errorMessages,\n    args\n  });\n}\n\nconst errorMessages = {\n  [I18nErrorCodes.UNEXPECTED_RETURN_TYPE]: 'Unexpected return type in composer',\n  [I18nErrorCodes.INVALID_ARGUMENT]: 'Invalid argument',\n  [I18nErrorCodes.MUST_BE_CALL_SETUP_TOP]: 'Must be called at the top of a `setup` function',\n  [I18nErrorCodes.NOT_INSLALLED]: 'Need to install with `app.use` function',\n  [I18nErrorCodes.UNEXPECTED_ERROR]: 'Unexpected error',\n  [I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE]: 'Not available in legacy mode',\n  [I18nErrorCodes.REQUIRED_VALUE]: `Required in value: {0}`,\n  [I18nErrorCodes.INVALID_VALUE]: `Invalid value`,\n  [I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]: `Cannot setup vue-devtools plugin`,\n  [I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE]: 'Need to install with `provide` function',\n  [I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N]: 'Not compatible legacy VueI18n.',\n  [I18nErrorCodes.BRIDGE_SUPPORT_VUE_2_ONLY]: 'vue-i18n-bridge support Vue 2.x only',\n  [I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]: 'Must define ‘i18n’ option or custom block in Composition API with using local scope in Legacy API mode',\n  [I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]: 'Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly'\n};\nconst TransrateVNodeSymbol = /* #__PURE__*/shared.makeSymbol('__transrateVNode');\nconst DatetimePartsSymbol = /* #__PURE__*/shared.makeSymbol('__datetimeParts');\nconst NumberPartsSymbol = /* #__PURE__*/shared.makeSymbol('__numberParts');\nconst EnableEmitter = /* #__PURE__*/shared.makeSymbol('__enableEmitter');\nconst DisableEmitter = /* #__PURE__*/shared.makeSymbol('__disableEmitter');\nconst SetPluralRulesSymbol = shared.makeSymbol('__setPluralRules');\nshared.makeSymbol('__intlifyMeta');\nconst InejctWithOption = /* #__PURE__*/shared.makeSymbol('__injectWithOption');\nconst __VUE_I18N_BRIDGE__ = '__VUE_I18N_BRIDGE__';\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/**\r\n * Transform flat json in obj to normal json in obj\r\n */\n\nfunction handleFlatJson(obj) {\n  // check obj\n  if (!shared.isObject(obj)) {\n    return obj;\n  }\n\n  for (const key in obj) {\n    // check key\n    if (!shared.hasOwn(obj, key)) {\n      continue;\n    } // handle for normal json\n\n\n    if (!key.includes('.')) {\n      // recursive process value if value is also a object\n      if (shared.isObject(obj[key])) {\n        handleFlatJson(obj[key]);\n      }\n    } // handle for flat json, transform to normal json\n    else {\n      // go to the last object\n      const subKeys = key.split('.');\n      const lastIndex = subKeys.length - 1;\n      let currentObj = obj;\n\n      for (let i = 0; i < lastIndex; i++) {\n        if (!(subKeys[i] in currentObj)) {\n          currentObj[subKeys[i]] = {};\n        }\n\n        currentObj = currentObj[subKeys[i]];\n      } // update last object value, delete old property\n\n\n      currentObj[subKeys[lastIndex]] = obj[key];\n      delete obj[key]; // recursive process value if value is also a object\n\n      if (shared.isObject(currentObj[subKeys[lastIndex]])) {\n        handleFlatJson(currentObj[subKeys[lastIndex]]);\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction getLocaleMessages(locale, options) {\n  const {\n    messages,\n    __i18n,\n    messageResolver,\n    flatJson\n  } = options; // prettier-ignore\n\n  const ret = shared.isPlainObject(messages) ? messages : shared.isArray(__i18n) ? {} : {\n    [locale]: {}\n  }; // merge locale messages of i18n custom block\n\n  if (shared.isArray(__i18n)) {\n    __i18n.forEach(custom => {\n      if ('locale' in custom && 'resource' in custom) {\n        const {\n          locale,\n          resource\n        } = custom;\n\n        if (locale) {\n          ret[locale] = ret[locale] || {};\n          deepCopy(resource, ret[locale]);\n        } else {\n          deepCopy(resource, ret);\n        }\n      } else {\n        shared.isString(custom) && deepCopy(JSON.parse(custom), ret);\n      }\n    });\n  } // handle messages for flat json\n\n\n  if (messageResolver == null && flatJson) {\n    for (const key in ret) {\n      if (shared.hasOwn(ret, key)) {\n        handleFlatJson(ret[key]);\n      }\n    }\n  }\n\n  return ret;\n}\n\nconst isNotObjectOrIsArray = val => !shared.isObject(val) || shared.isArray(val); // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n\n\nfunction deepCopy(src, des) {\n  // src and des should both be objects, and non of then can be a array\n  if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\n    throw createI18nError(I18nErrorCodes.INVALID_VALUE);\n  }\n\n  for (const key in src) {\n    if (shared.hasOwn(src, key)) {\n      if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {\n        // replace with src[key] when:\n        // src[key] or des[key] is not a object, or\n        // src[key] or des[key] is a array\n        des[key] = src[key];\n      } else {\n        // src[key] and des[key] are both object, merge them\n        deepCopy(src[key], des[key]);\n      }\n    }\n  }\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction getComponentOptions(instance) {\n  return instance.type;\n}\n\nfunction adjustI18nResources(global, options, componentOptions // eslint-disable-line @typescript-eslint/no-explicit-any\n) {\n  let messages = shared.isObject(options.messages) ? options.messages : {};\n\n  if ('__i18nGlobal' in componentOptions) {\n    messages = getLocaleMessages(global.locale.value, {\n      messages,\n      __i18n: componentOptions.__i18nGlobal\n    });\n  } // merge locale messages\n\n\n  const locales = Object.keys(messages);\n\n  if (locales.length) {\n    locales.forEach(locale => {\n      global.mergeLocaleMessage(locale, messages[locale]);\n    });\n  }\n\n  {\n    // merge datetime formats\n    if (shared.isObject(options.datetimeFormats)) {\n      const locales = Object.keys(options.datetimeFormats);\n\n      if (locales.length) {\n        locales.forEach(locale => {\n          global.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\n        });\n      }\n    } // merge number formats\n\n\n    if (shared.isObject(options.numberFormats)) {\n      const locales = Object.keys(options.numberFormats);\n\n      if (locales.length) {\n        locales.forEach(locale => {\n          global.mergeNumberFormat(locale, options.numberFormats[locale]);\n        });\n      }\n    }\n  }\n}\n\nfunction createTextNode(key) {\n  return vue.createVNode(vue.Text, null, key, 0);\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// extend VNode interface\n\n\nconst DEVTOOLS_META = '__INTLIFY_META__';\nlet composerID = 0;\n\nfunction defineCoreMissingHandler(missing) {\n  return (ctx, locale, key, type) => {\n    return missing(locale, key, vue.getCurrentInstance() || undefined, type);\n  };\n} // for Intlify DevTools\n\n\nconst getMetaInfo = () => {\n  const instance = vue.getCurrentInstance();\n  let meta = null; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  return instance && (meta = getComponentOptions(instance)[DEVTOOLS_META]) ? {\n    [DEVTOOLS_META]: meta\n  } // eslint-disable-line @typescript-eslint/no-explicit-any\n  : null;\n};\n/**\r\n * Create composer interface factory\r\n *\r\n * @internal\r\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n\nfunction createComposer(options = {}, VueI18nLegacy) {\n  const {\n    __root\n  } = options;\n\n  const _isGlobal = __root === undefined;\n\n  let _inheritLocale = shared.isBoolean(options.inheritLocale) ? options.inheritLocale : true;\n\n  const _locale = vue.ref( // prettier-ignore\n  __root && _inheritLocale ? __root.locale.value : shared.isString(options.locale) ? options.locale : coreBase.DEFAULT_LOCALE);\n\n  const _fallbackLocale = vue.ref( // prettier-ignore\n  __root && _inheritLocale ? __root.fallbackLocale.value : shared.isString(options.fallbackLocale) || shared.isArray(options.fallbackLocale) || shared.isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : _locale.value);\n\n  const _messages = vue.ref(getLocaleMessages(_locale.value, options)); // prettier-ignore\n\n\n  const _datetimeFormats = vue.ref(shared.isPlainObject(options.datetimeFormats) ? options.datetimeFormats : {\n    [_locale.value]: {}\n  }); // prettier-ignore\n\n\n  const _numberFormats = vue.ref(shared.isPlainObject(options.numberFormats) ? options.numberFormats : {\n    [_locale.value]: {}\n  }); // warning suppress options\n  // prettier-ignore\n\n\n  let _missingWarn = __root ? __root.missingWarn : shared.isBoolean(options.missingWarn) || shared.isRegExp(options.missingWarn) ? options.missingWarn : true; // prettier-ignore\n\n\n  let _fallbackWarn = __root ? __root.fallbackWarn : shared.isBoolean(options.fallbackWarn) || shared.isRegExp(options.fallbackWarn) ? options.fallbackWarn : true; // prettier-ignore\n\n\n  let _fallbackRoot = __root ? __root.fallbackRoot : shared.isBoolean(options.fallbackRoot) ? options.fallbackRoot : true; // configure fall back to root\n\n\n  let _fallbackFormat = !!options.fallbackFormat; // runtime missing\n\n\n  let _missing = shared.isFunction(options.missing) ? options.missing : null;\n\n  let _runtimeMissing = shared.isFunction(options.missing) ? defineCoreMissingHandler(options.missing) : null; // postTranslation handler\n\n\n  let _postTranslation = shared.isFunction(options.postTranslation) ? options.postTranslation : null; // prettier-ignore\n\n\n  let _warnHtmlMessage = __root ? __root.warnHtmlMessage : shared.isBoolean(options.warnHtmlMessage) ? options.warnHtmlMessage : true;\n\n  let _escapeParameter = !!options.escapeParameter; // custom linked modifiers\n  // prettier-ignore\n\n\n  const _modifiers = __root ? __root.modifiers : shared.isPlainObject(options.modifiers) ? options.modifiers : {}; // pluralRules\n\n\n  let _pluralRules = options.pluralRules || __root && __root.pluralRules; // runtime context\n  // eslint-disable-next-line prefer-const\n\n\n  let _context;\n\n  const getCoreContext = () => {\n    _isGlobal && coreBase.setFallbackContext(null);\n    const ctxOptions = {\n      version: VERSION,\n      locale: _locale.value,\n      fallbackLocale: _fallbackLocale.value,\n      messages: _messages.value,\n      modifiers: _modifiers,\n      pluralRules: _pluralRules,\n      missing: _runtimeMissing === null ? undefined : _runtimeMissing,\n      missingWarn: _missingWarn,\n      fallbackWarn: _fallbackWarn,\n      fallbackFormat: _fallbackFormat,\n      unresolving: true,\n      postTranslation: _postTranslation === null ? undefined : _postTranslation,\n      warnHtmlMessage: _warnHtmlMessage,\n      escapeParameter: _escapeParameter,\n      messageResolver: options.messageResolver,\n      __meta: {\n        framework: 'vue'\n      }\n    };\n    {\n      ctxOptions.datetimeFormats = _datetimeFormats.value;\n      ctxOptions.numberFormats = _numberFormats.value;\n      ctxOptions.__datetimeFormatters = shared.isPlainObject(_context) ? _context.__datetimeFormatters : undefined;\n      ctxOptions.__numberFormatters = shared.isPlainObject(_context) ? _context.__numberFormatters : undefined;\n    }\n    {\n      ctxOptions.__v_emitter = shared.isPlainObject(_context) ? _context.__v_emitter : undefined;\n    }\n    const ctx = coreBase.createCoreContext(ctxOptions);\n    _isGlobal && coreBase.setFallbackContext(ctx);\n    return ctx;\n  };\n\n  _context = getCoreContext();\n  coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value); // track reactivity\n\n  function trackReactivityValues() {\n    return [_locale.value, _fallbackLocale.value, _messages.value, _datetimeFormats.value, _numberFormats.value];\n  } // locale\n\n\n  const locale = vue.computed({\n    get: () => _locale.value,\n    set: val => {\n      _locale.value = val;\n      _context.locale = _locale.value;\n    }\n  }); // fallbackLocale\n\n  const fallbackLocale = vue.computed({\n    get: () => _fallbackLocale.value,\n    set: val => {\n      _fallbackLocale.value = val;\n      _context.fallbackLocale = _fallbackLocale.value;\n      coreBase.updateFallbackLocale(_context, _locale.value, val);\n    }\n  }); // messages\n\n  const messages = vue.computed(() => _messages.value); // datetimeFormats\n\n  const datetimeFormats = /* #__PURE__*/vue.computed(() => _datetimeFormats.value); // numberFormats\n\n  const numberFormats = /* #__PURE__*/vue.computed(() => _numberFormats.value); // getPostTranslationHandler\n\n  function getPostTranslationHandler() {\n    return shared.isFunction(_postTranslation) ? _postTranslation : null;\n  } // setPostTranslationHandler\n\n\n  function setPostTranslationHandler(handler) {\n    _postTranslation = handler;\n    _context.postTranslation = handler;\n  } // getMissingHandler\n\n\n  function getMissingHandler() {\n    return _missing;\n  } // setMissingHandler\n\n\n  function setMissingHandler(handler) {\n    if (handler !== null) {\n      _runtimeMissing = defineCoreMissingHandler(handler);\n    }\n\n    _missing = handler;\n    _context.missing = _runtimeMissing;\n  }\n\n  function isResolvedTranslateMessage(type, arg // eslint-disable-line @typescript-eslint/no-explicit-any\n  ) {\n    return type !== 'translate' || !arg.resolvedMessage;\n  }\n\n  const wrapWithDeps = (fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) => {\n    trackReactivityValues(); // track reactive dependency\n    // NOTE: experimental !!\n\n    let ret;\n    {\n      try {\n        coreBase.setAdditionalMeta(getMetaInfo());\n\n        if (!_isGlobal) {\n          _context.fallbackContext = __root ? coreBase.getFallbackContext() : undefined;\n        }\n\n        ret = fn(_context);\n      } finally {\n        coreBase.setAdditionalMeta(null);\n\n        if (!_isGlobal) {\n          _context.fallbackContext = undefined;\n        }\n      }\n    }\n\n    if (shared.isNumber(ret) && ret === coreBase.NOT_REOSLVED) {\n      const [key, arg2] = argumentParser();\n\n      if (__root && shared.isString(key) && isResolvedTranslateMessage(warnType, arg2)) {\n        if (_fallbackRoot && (coreBase.isTranslateFallbackWarn(_fallbackWarn, key) || coreBase.isTranslateMissingWarn(_missingWarn, key))) {\n          shared.warn(getWarnMessage(I18nWarnCodes.FALLBACK_TO_ROOT, {\n            key,\n            type: warnType\n          }));\n        } // for vue-devtools timeline event\n\n\n        {\n          const {\n            __v_emitter: emitter\n          } = _context;\n\n          if (emitter && _fallbackRoot) {\n            emitter.emit(\"fallback\"\n            /* FALBACK */\n            , {\n              type: warnType,\n              key,\n              to: 'global',\n              groupId: `${warnType}:${key}`\n            });\n          }\n        }\n      }\n\n      return __root && _fallbackRoot ? fallbackSuccess(__root) : fallbackFail(key);\n    } else if (successCondition(ret)) {\n      return ret;\n    } else {\n      /* istanbul ignore next */\n      throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE);\n    }\n  }; // t\n\n\n  function t(...args) {\n    return wrapWithDeps(context => Reflect.apply(coreBase.translate, null, [context, ...args]), () => coreBase.parseTranslateArgs(...args), 'translate', root => Reflect.apply(root.t, root, [...args]), key => key, val => shared.isString(val));\n  } // rt\n\n\n  function rt(...args) {\n    const [arg1, arg2, arg3] = args;\n\n    if (arg3 && !shared.isObject(arg3)) {\n      throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\n    }\n\n    return t(...[arg1, arg2, shared.assign({\n      resolvedMessage: true\n    }, arg3 || {})]);\n  } // d\n\n\n  function d(...args) {\n    return wrapWithDeps(context => Reflect.apply(coreBase.datetime, null, [context, ...args]), () => coreBase.parseDateTimeArgs(...args), 'datetime format', root => Reflect.apply(root.d, root, [...args]), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\n  } // n\n\n\n  function n(...args) {\n    return wrapWithDeps(context => Reflect.apply(coreBase.number, null, [context, ...args]), () => coreBase.parseNumberArgs(...args), 'number format', root => Reflect.apply(root.n, root, [...args]), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\n  } // for custom processor\n\n\n  function normalize(values) {\n    return values.map(val => shared.isString(val) || shared.isNumber(val) || shared.isBoolean(val) ? createTextNode(String(val)) : val);\n  }\n\n  const interpolate = val => val;\n\n  const processor = {\n    normalize,\n    interpolate,\n    type: 'vnode'\n  }; // transrateVNode, using for `i18n-t` component\n\n  function transrateVNode(...args) {\n    return wrapWithDeps(context => {\n      let ret;\n      const _context = context;\n\n      try {\n        _context.processor = processor;\n        ret = Reflect.apply(coreBase.translate, null, [_context, ...args]);\n      } finally {\n        _context.processor = null;\n      }\n\n      return ret;\n    }, () => coreBase.parseTranslateArgs(...args), 'translate', // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    root => root[TransrateVNodeSymbol](...args), key => [createTextNode(key)], val => shared.isArray(val));\n  } // numberParts, using for `i18n-n` component\n\n\n  function numberParts(...args) {\n    return wrapWithDeps(context => Reflect.apply(coreBase.number, null, [context, ...args]), () => coreBase.parseNumberArgs(...args), 'number format', // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    root => root[NumberPartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\n  } // datetimeParts, using for `i18n-d` component\n\n\n  function datetimeParts(...args) {\n    return wrapWithDeps(context => Reflect.apply(coreBase.datetime, null, [context, ...args]), () => coreBase.parseDateTimeArgs(...args), 'datetime format', // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    root => root[DatetimePartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\n  }\n\n  function setPluralRules(rules) {\n    _pluralRules = rules;\n    _context.pluralRules = _pluralRules;\n  } // te\n\n\n  function te(key, locale) {\n    const targetLocale = shared.isString(locale) ? locale : _locale.value;\n    const message = getLocaleMessage(targetLocale);\n    return _context.messageResolver(message, key) !== null;\n  }\n\n  function resolveMessages(key) {\n    let messages = null;\n    const locales = coreBase.fallbackWithLocaleChain(_context, _fallbackLocale.value, _locale.value);\n\n    for (let i = 0; i < locales.length; i++) {\n      const targetLocaleMessages = _messages.value[locales[i]] || {};\n\n      const messageValue = _context.messageResolver(targetLocaleMessages, key);\n\n      if (messageValue != null) {\n        messages = messageValue;\n        break;\n      }\n    }\n\n    return messages;\n  } // tm\n\n\n  function tm(key) {\n    const messages = resolveMessages(key); // prettier-ignore\n\n    return messages != null ? messages : __root ? __root.tm(key) || {} : {};\n  } // getLocaleMessage\n\n\n  function getLocaleMessage(locale) {\n    return _messages.value[locale] || {};\n  } // setLocaleMessage\n\n\n  function setLocaleMessage(locale, message) {\n    _messages.value[locale] = message;\n    _context.messages = _messages.value;\n  } // mergeLocaleMessage\n\n\n  function mergeLocaleMessage(locale, message) {\n    _messages.value[locale] = _messages.value[locale] || {};\n    deepCopy(message, _messages.value[locale]);\n    _context.messages = _messages.value;\n  } // getDateTimeFormat\n\n\n  function getDateTimeFormat(locale) {\n    return _datetimeFormats.value[locale] || {};\n  } // setDateTimeFormat\n\n\n  function setDateTimeFormat(locale, format) {\n    _datetimeFormats.value[locale] = format;\n    _context.datetimeFormats = _datetimeFormats.value;\n    coreBase.clearDateTimeFormat(_context, locale, format);\n  } // mergeDateTimeFormat\n\n\n  function mergeDateTimeFormat(locale, format) {\n    _datetimeFormats.value[locale] = shared.assign(_datetimeFormats.value[locale] || {}, format);\n    _context.datetimeFormats = _datetimeFormats.value;\n    coreBase.clearDateTimeFormat(_context, locale, format);\n  } // getNumberFormat\n\n\n  function getNumberFormat(locale) {\n    return _numberFormats.value[locale] || {};\n  } // setNumberFormat\n\n\n  function setNumberFormat(locale, format) {\n    _numberFormats.value[locale] = format;\n    _context.numberFormats = _numberFormats.value;\n    coreBase.clearNumberFormat(_context, locale, format);\n  } // mergeNumberFormat\n\n\n  function mergeNumberFormat(locale, format) {\n    _numberFormats.value[locale] = shared.assign(_numberFormats.value[locale] || {}, format);\n    _context.numberFormats = _numberFormats.value;\n    coreBase.clearNumberFormat(_context, locale, format);\n  } // for debug\n\n\n  composerID++; // watch root locale & fallbackLocale\n\n  if (__root && shared.inBrowser) {\n    vue.watch(__root.locale, val => {\n      if (_inheritLocale) {\n        _locale.value = val;\n        _context.locale = val;\n        coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n      }\n    });\n    vue.watch(__root.fallbackLocale, val => {\n      if (_inheritLocale) {\n        _fallbackLocale.value = val;\n        _context.fallbackLocale = val;\n        coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n      }\n    });\n  } // define basic composition API!\n\n\n  const composer = {\n    id: composerID,\n    locale,\n    fallbackLocale,\n\n    get inheritLocale() {\n      return _inheritLocale;\n    },\n\n    set inheritLocale(val) {\n      _inheritLocale = val;\n\n      if (val && __root) {\n        _locale.value = __root.locale.value;\n        _fallbackLocale.value = __root.fallbackLocale.value;\n        coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n      }\n    },\n\n    get availableLocales() {\n      return Object.keys(_messages.value).sort();\n    },\n\n    messages,\n\n    get modifiers() {\n      return _modifiers;\n    },\n\n    get pluralRules() {\n      return _pluralRules || {};\n    },\n\n    get isGlobal() {\n      return _isGlobal;\n    },\n\n    get missingWarn() {\n      return _missingWarn;\n    },\n\n    set missingWarn(val) {\n      _missingWarn = val;\n      _context.missingWarn = _missingWarn;\n    },\n\n    get fallbackWarn() {\n      return _fallbackWarn;\n    },\n\n    set fallbackWarn(val) {\n      _fallbackWarn = val;\n      _context.fallbackWarn = _fallbackWarn;\n    },\n\n    get fallbackRoot() {\n      return _fallbackRoot;\n    },\n\n    set fallbackRoot(val) {\n      _fallbackRoot = val;\n    },\n\n    get fallbackFormat() {\n      return _fallbackFormat;\n    },\n\n    set fallbackFormat(val) {\n      _fallbackFormat = val;\n      _context.fallbackFormat = _fallbackFormat;\n    },\n\n    get warnHtmlMessage() {\n      return _warnHtmlMessage;\n    },\n\n    set warnHtmlMessage(val) {\n      _warnHtmlMessage = val;\n      _context.warnHtmlMessage = val;\n    },\n\n    get escapeParameter() {\n      return _escapeParameter;\n    },\n\n    set escapeParameter(val) {\n      _escapeParameter = val;\n      _context.escapeParameter = val;\n    },\n\n    t,\n    getLocaleMessage,\n    setLocaleMessage,\n    mergeLocaleMessage,\n    getPostTranslationHandler,\n    setPostTranslationHandler,\n    getMissingHandler,\n    setMissingHandler,\n    [SetPluralRulesSymbol]: setPluralRules\n  };\n  {\n    composer.datetimeFormats = datetimeFormats;\n    composer.numberFormats = numberFormats;\n    composer.rt = rt;\n    composer.te = te;\n    composer.tm = tm;\n    composer.d = d;\n    composer.n = n;\n    composer.getDateTimeFormat = getDateTimeFormat;\n    composer.setDateTimeFormat = setDateTimeFormat;\n    composer.mergeDateTimeFormat = mergeDateTimeFormat;\n    composer.getNumberFormat = getNumberFormat;\n    composer.setNumberFormat = setNumberFormat;\n    composer.mergeNumberFormat = mergeNumberFormat;\n    composer[InejctWithOption] = options.__injectWithOption;\n    composer[TransrateVNodeSymbol] = transrateVNode;\n    composer[DatetimePartsSymbol] = datetimeParts;\n    composer[NumberPartsSymbol] = numberParts;\n  } // for vue-devtools timeline event\n\n  {\n    composer[EnableEmitter] = emitter => {\n      _context.__v_emitter = emitter;\n    };\n\n    composer[DisableEmitter] = () => {\n      _context.__v_emitter = undefined;\n    };\n  }\n  return composer;\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/**\r\n * Convert to I18n Composer Options from VueI18n Options\r\n *\r\n * @internal\r\n */\n\n\nfunction convertComposerOptions(options) {\n  const locale = shared.isString(options.locale) ? options.locale : coreBase.DEFAULT_LOCALE;\n  const fallbackLocale = shared.isString(options.fallbackLocale) || shared.isArray(options.fallbackLocale) || shared.isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : locale;\n  const missing = shared.isFunction(options.missing) ? options.missing : undefined;\n  const missingWarn = shared.isBoolean(options.silentTranslationWarn) || shared.isRegExp(options.silentTranslationWarn) ? !options.silentTranslationWarn : true;\n  const fallbackWarn = shared.isBoolean(options.silentFallbackWarn) || shared.isRegExp(options.silentFallbackWarn) ? !options.silentFallbackWarn : true;\n  const fallbackRoot = shared.isBoolean(options.fallbackRoot) ? options.fallbackRoot : true;\n  const fallbackFormat = !!options.formatFallbackMessages;\n  const modifiers = shared.isPlainObject(options.modifiers) ? options.modifiers : {};\n  const pluralizationRules = options.pluralizationRules;\n  const postTranslation = shared.isFunction(options.postTranslation) ? options.postTranslation : undefined;\n  const warnHtmlMessage = shared.isString(options.warnHtmlInMessage) ? options.warnHtmlInMessage !== 'off' : true;\n  const escapeParameter = !!options.escapeParameterHtml;\n  const inheritLocale = shared.isBoolean(options.sync) ? options.sync : true;\n\n  if (options.formatter) {\n    shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\n  }\n\n  if (options.preserveDirectiveContent) {\n    shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\n  }\n\n  let messages = options.messages;\n\n  if (shared.isPlainObject(options.sharedMessages)) {\n    const sharedMessages = options.sharedMessages;\n    const locales = Object.keys(sharedMessages);\n    messages = locales.reduce((messages, locale) => {\n      const message = messages[locale] || (messages[locale] = {});\n      shared.assign(message, sharedMessages[locale]);\n      return messages;\n    }, messages || {});\n  }\n\n  const {\n    __i18n,\n    __root,\n    __injectWithOption\n  } = options;\n  const datetimeFormats = options.datetimeFormats;\n  const numberFormats = options.numberFormats;\n  const flatJson = options.flatJson;\n  return {\n    locale,\n    fallbackLocale,\n    messages,\n    flatJson,\n    datetimeFormats,\n    numberFormats,\n    missing,\n    missingWarn,\n    fallbackWarn,\n    fallbackRoot,\n    fallbackFormat,\n    modifiers,\n    pluralRules: pluralizationRules,\n    postTranslation,\n    warnHtmlMessage,\n    escapeParameter,\n    messageResolver: options.messageResolver,\n    inheritLocale,\n    __i18n,\n    __root,\n    __injectWithOption\n  };\n}\n/**\r\n * create VueI18n interface factory\r\n *\r\n * @internal\r\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n\nfunction createVueI18n(options = {}, VueI18nLegacy) {\n  {\n    const composer = createComposer(convertComposerOptions(options)); // defines VueI18n\n\n    const vueI18n = {\n      // id\n      id: composer.id,\n\n      // locale\n      get locale() {\n        return composer.locale.value;\n      },\n\n      set locale(val) {\n        composer.locale.value = val;\n      },\n\n      // fallbackLocale\n      get fallbackLocale() {\n        return composer.fallbackLocale.value;\n      },\n\n      set fallbackLocale(val) {\n        composer.fallbackLocale.value = val;\n      },\n\n      // messages\n      get messages() {\n        return composer.messages.value;\n      },\n\n      // datetimeFormats\n      get datetimeFormats() {\n        return composer.datetimeFormats.value;\n      },\n\n      // numberFormats\n      get numberFormats() {\n        return composer.numberFormats.value;\n      },\n\n      // availableLocales\n      get availableLocales() {\n        return composer.availableLocales;\n      },\n\n      // formatter\n      get formatter() {\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER)); // dummy\n\n        return {\n          interpolate() {\n            return [];\n          }\n\n        };\n      },\n\n      set formatter(val) {\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\n      },\n\n      // missing\n      get missing() {\n        return composer.getMissingHandler();\n      },\n\n      set missing(handler) {\n        composer.setMissingHandler(handler);\n      },\n\n      // silentTranslationWarn\n      get silentTranslationWarn() {\n        return shared.isBoolean(composer.missingWarn) ? !composer.missingWarn : composer.missingWarn;\n      },\n\n      set silentTranslationWarn(val) {\n        composer.missingWarn = shared.isBoolean(val) ? !val : val;\n      },\n\n      // silentFallbackWarn\n      get silentFallbackWarn() {\n        return shared.isBoolean(composer.fallbackWarn) ? !composer.fallbackWarn : composer.fallbackWarn;\n      },\n\n      set silentFallbackWarn(val) {\n        composer.fallbackWarn = shared.isBoolean(val) ? !val : val;\n      },\n\n      // modifiers\n      get modifiers() {\n        return composer.modifiers;\n      },\n\n      // formatFallbackMessages\n      get formatFallbackMessages() {\n        return composer.fallbackFormat;\n      },\n\n      set formatFallbackMessages(val) {\n        composer.fallbackFormat = val;\n      },\n\n      // postTranslation\n      get postTranslation() {\n        return composer.getPostTranslationHandler();\n      },\n\n      set postTranslation(handler) {\n        composer.setPostTranslationHandler(handler);\n      },\n\n      // sync\n      get sync() {\n        return composer.inheritLocale;\n      },\n\n      set sync(val) {\n        composer.inheritLocale = val;\n      },\n\n      // warnInHtmlMessage\n      get warnHtmlInMessage() {\n        return composer.warnHtmlMessage ? 'warn' : 'off';\n      },\n\n      set warnHtmlInMessage(val) {\n        composer.warnHtmlMessage = val !== 'off';\n      },\n\n      // escapeParameterHtml\n      get escapeParameterHtml() {\n        return composer.escapeParameter;\n      },\n\n      set escapeParameterHtml(val) {\n        composer.escapeParameter = val;\n      },\n\n      // preserveDirectiveContent\n      get preserveDirectiveContent() {\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\n        return true;\n      },\n\n      set preserveDirectiveContent(val) {\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\n      },\n\n      // pluralizationRules\n      get pluralizationRules() {\n        return composer.pluralRules || {};\n      },\n\n      // for internal\n      __composer: composer,\n\n      // t\n      t(...args) {\n        const [arg1, arg2, arg3] = args;\n        const options = {};\n        let list = null;\n        let named = null;\n\n        if (!shared.isString(arg1)) {\n          throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\n        }\n\n        const key = arg1;\n\n        if (shared.isString(arg2)) {\n          options.locale = arg2;\n        } else if (shared.isArray(arg2)) {\n          list = arg2;\n        } else if (shared.isPlainObject(arg2)) {\n          named = arg2;\n        }\n\n        if (shared.isArray(arg3)) {\n          list = arg3;\n        } else if (shared.isPlainObject(arg3)) {\n          named = arg3;\n        } // return composer.t(key, (list || named || {}) as any, options)\n\n\n        return Reflect.apply(composer.t, composer, [key, list || named || {}, options]);\n      },\n\n      rt(...args) {\n        return Reflect.apply(composer.rt, composer, [...args]);\n      },\n\n      // tc\n      tc(...args) {\n        const [arg1, arg2, arg3] = args;\n        const options = {\n          plural: 1\n        };\n        let list = null;\n        let named = null;\n\n        if (!shared.isString(arg1)) {\n          throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\n        }\n\n        const key = arg1;\n\n        if (shared.isString(arg2)) {\n          options.locale = arg2;\n        } else if (shared.isNumber(arg2)) {\n          options.plural = arg2;\n        } else if (shared.isArray(arg2)) {\n          list = arg2;\n        } else if (shared.isPlainObject(arg2)) {\n          named = arg2;\n        }\n\n        if (shared.isString(arg3)) {\n          options.locale = arg3;\n        } else if (shared.isArray(arg3)) {\n          list = arg3;\n        } else if (shared.isPlainObject(arg3)) {\n          named = arg3;\n        } // return composer.t(key, (list || named || {}) as any, options)\n\n\n        return Reflect.apply(composer.t, composer, [key, list || named || {}, options]);\n      },\n\n      // te\n      te(key, locale) {\n        return composer.te(key, locale);\n      },\n\n      // tm\n      tm(key) {\n        return composer.tm(key);\n      },\n\n      // getLocaleMessage\n      getLocaleMessage(locale) {\n        return composer.getLocaleMessage(locale);\n      },\n\n      // setLocaleMessage\n      setLocaleMessage(locale, message) {\n        composer.setLocaleMessage(locale, message);\n      },\n\n      // mergeLocaleMessage\n      mergeLocaleMessage(locale, message) {\n        composer.mergeLocaleMessage(locale, message);\n      },\n\n      // d\n      d(...args) {\n        return Reflect.apply(composer.d, composer, [...args]);\n      },\n\n      // getDateTimeFormat\n      getDateTimeFormat(locale) {\n        return composer.getDateTimeFormat(locale);\n      },\n\n      // setDateTimeFormat\n      setDateTimeFormat(locale, format) {\n        composer.setDateTimeFormat(locale, format);\n      },\n\n      // mergeDateTimeFormat\n      mergeDateTimeFormat(locale, format) {\n        composer.mergeDateTimeFormat(locale, format);\n      },\n\n      // n\n      n(...args) {\n        return Reflect.apply(composer.n, composer, [...args]);\n      },\n\n      // getNumberFormat\n      getNumberFormat(locale) {\n        return composer.getNumberFormat(locale);\n      },\n\n      // setNumberFormat\n      setNumberFormat(locale, format) {\n        composer.setNumberFormat(locale, format);\n      },\n\n      // mergeNumberFormat\n      mergeNumberFormat(locale, format) {\n        composer.mergeNumberFormat(locale, format);\n      },\n\n      // getChoiceIndex\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      getChoiceIndex(choice, choicesLength) {\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX));\n        return -1;\n      },\n\n      // for internal\n      __onComponentInstanceCreated(target) {\n        const {\n          componentInstanceCreatedListener\n        } = options;\n\n        if (componentInstanceCreatedListener) {\n          componentInstanceCreatedListener(target, vueI18n);\n        }\n      }\n\n    }; // for vue-devtools timeline event\n\n    {\n      vueI18n.__enableEmitter = emitter => {\n        const __composer = composer;\n        __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\n      };\n\n      vueI18n.__disableEmitter = () => {\n        const __composer = composer;\n        __composer[DisableEmitter] && __composer[DisableEmitter]();\n      };\n    }\n    return vueI18n;\n  }\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n\nconst baseFormatProps = {\n  tag: {\n    type: [String, Object]\n  },\n  locale: {\n    type: String\n  },\n  scope: {\n    type: String,\n    // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\n    validator: (val\n    /* ComponetI18nScope */\n    ) => val === 'parent' || val === 'global',\n    default: 'parent'\n    /* ComponetI18nScope */\n\n  },\n  i18n: {\n    type: Object\n  }\n};\n\nfunction getInterpolateArg( // eslint-disable-next-line @typescript-eslint/no-explicit-any\n{\n  slots\n}, // SetupContext,\nkeys) {\n  if (keys.length === 1 && keys[0] === 'default') {\n    // default slot with list\n    const ret = slots.default ? slots.default() : []; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    return ret.reduce((slot, current) => {\n      return slot = [...slot, ...(shared.isArray(current.children) ? current.children : [current])];\n    }, []);\n  } else {\n    // named slots\n    return keys.reduce((arg, key) => {\n      const slot = slots[key];\n\n      if (slot) {\n        arg[key] = slot();\n      }\n\n      return arg;\n    }, {});\n  }\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction getFragmentableTag(tag) {\n  return vue.Fragment;\n}\n/**\r\n * Translation Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [TranslationProps](component#translationprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\r\n *\r\n * @example\r\n * ```html\r\n * <div id=\"app\">\r\n *   <!-- ... -->\r\n *   <i18n path=\"term\" tag=\"label\" for=\"tos\">\r\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\r\n *   </i18n>\r\n *   <!-- ... -->\r\n * </div>\r\n * ```\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * const messages = {\r\n *   en: {\r\n *     tos: 'Term of Service',\r\n *     term: 'I accept xxx {0}.'\r\n *   },\r\n *   ja: {\r\n *     tos: '利用規約',\r\n *     term: '私は xxx の{0}に同意します。'\r\n *   }\r\n * }\r\n *\r\n * const i18n = createI18n({\r\n *   locale: 'en',\r\n *   messages\r\n * })\r\n *\r\n * const app = createApp({\r\n *   data: {\r\n *     url: '/term'\r\n *   }\r\n * }).use(i18n).mount('#app')\r\n * ```\r\n *\r\n * @VueI18nComponent\r\n */\n\n\nconst Translation =\n/* defineComponent */\n{\n  /* eslint-disable */\n  name: 'i18n-t',\n  props: shared.assign({\n    keypath: {\n      type: String,\n      required: true\n    },\n    plural: {\n      type: [Number, String],\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      validator: val => shared.isNumber(val) || !isNaN(val)\n    }\n  }, baseFormatProps),\n\n  /* eslint-enable */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setup(props, context) {\n    const {\n      slots,\n      attrs\n    } = context; // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\n\n    const i18n = props.i18n || useI18n({\n      useScope: props.scope,\n      __useComponent: true\n    });\n    return () => {\n      const keys = Object.keys(slots).filter(key => key !== '_');\n      const options = {};\n\n      if (props.locale) {\n        options.locale = props.locale;\n      }\n\n      if (props.plural !== undefined) {\n        options.plural = shared.isString(props.plural) ? +props.plural : props.plural;\n      }\n\n      const arg = getInterpolateArg(context, keys); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      const children = i18n[TransrateVNodeSymbol](props.keypath, arg, options);\n      const assignedAttrs = shared.assign({}, attrs);\n      const tag = shared.isString(props.tag) || shared.isObject(props.tag) ? props.tag : getFragmentableTag();\n      return vue.h(tag, assignedAttrs, children);\n    };\n  }\n\n};\n\nfunction isVNode(target) {\n  return shared.isArray(target) && !shared.isString(target[0]);\n}\n\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\n  const {\n    slots,\n    attrs\n  } = context;\n  return () => {\n    const options = {\n      part: true\n    };\n    let overrides = {};\n\n    if (props.locale) {\n      options.locale = props.locale;\n    }\n\n    if (shared.isString(props.format)) {\n      options.key = props.format;\n    } else if (shared.isObject(props.format)) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (shared.isString(props.format.key)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        options.key = props.format.key;\n      } // Filter out number format options only\n\n\n      overrides = Object.keys(props.format).reduce((options, prop) => {\n        return slotKeys.includes(prop) ? shared.assign({}, options, {\n          [prop]: props.format[prop]\n        }) // eslint-disable-line @typescript-eslint/no-explicit-any\n        : options;\n      }, {});\n    }\n\n    const parts = partFormatter(...[props.value, options, overrides]);\n    let children = [options.key];\n\n    if (shared.isArray(parts)) {\n      children = parts.map((part, index) => {\n        const slot = slots[part.type];\n        const node = slot ? slot({\n          [part.type]: part.value,\n          index,\n          parts\n        }) : [part.value];\n\n        if (isVNode(node)) {\n          node[0].key = `${part.type}-${index}`;\n        }\n\n        return node;\n      });\n    } else if (shared.isString(parts)) {\n      children = [parts];\n    }\n\n    const assignedAttrs = shared.assign({}, attrs);\n    const tag = shared.isString(props.tag) || shared.isObject(props.tag) ? props.tag : getFragmentableTag();\n    return vue.h(tag, assignedAttrs, children);\n  };\n}\n/**\r\n * Number Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\r\n *\r\n * @VueI18nComponent\r\n */\n\n\nconst NumberFormat =\n/* defineComponent */\n{\n  /* eslint-disable */\n  name: 'i18n-n',\n  props: shared.assign({\n    value: {\n      type: Number,\n      required: true\n    },\n    format: {\n      type: [String, Object]\n    }\n  }, baseFormatProps),\n\n  /* eslint-enable */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setup(props, context) {\n    const i18n = props.i18n || useI18n({\n      useScope: 'parent',\n      __useComponent: true\n    });\n    return renderFormatter(props, context, coreBase.NUMBER_FORMAT_OPTIONS_KEYS, (...args) => // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    i18n[NumberPartsSymbol](...args));\n  }\n\n};\n/**\r\n * Datetime Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\r\n *\r\n * @VueI18nComponent\r\n */\n\nconst DatetimeFormat =\n/*defineComponent */\n{\n  /* eslint-disable */\n  name: 'i18n-d',\n  props: shared.assign({\n    value: {\n      type: [Number, Date],\n      required: true\n    },\n    format: {\n      type: [String, Object]\n    }\n  }, baseFormatProps),\n\n  /* eslint-enable */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setup(props, context) {\n    const i18n = props.i18n || useI18n({\n      useScope: 'parent',\n      __useComponent: true\n    });\n    return renderFormatter(props, context, coreBase.DATETIME_FORMAT_OPTIONS_KEYS, (...args) => // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    i18n[DatetimePartsSymbol](...args));\n  }\n\n};\n\nfunction getComposer$1(i18n, instance) {\n  const i18nInternal = i18n;\n\n  if (i18n.mode === 'composition') {\n    return i18nInternal.__getInstance(instance) || i18n.global;\n  } else {\n    const vueI18n = i18nInternal.__getInstance(instance);\n\n    return vueI18n != null ? vueI18n.__composer : i18n.global.__composer;\n  }\n}\n\nfunction vTDirective(i18n) {\n  const _process = binding => {\n    const {\n      instance,\n      modifiers,\n      value\n    } = binding;\n    /* istanbul ignore if */\n\n    if (!instance || !instance.$) {\n      throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n    }\n\n    const composer = getComposer$1(i18n, instance.$);\n\n    if (modifiers.preserve) {\n      shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE));\n    }\n\n    const parsedValue = parseValue(value);\n    return [Reflect.apply(composer.t, composer, [...makeParams(parsedValue)]), composer];\n  };\n\n  const register = (el, binding) => {\n    const [textContent, composer] = _process(binding);\n\n    if (shared.inBrowser && i18n.global === composer) {\n      // global scope only\n      el.__i18nWatcher = vue.watch(composer.locale, () => {\n        binding.instance && binding.instance.$forceUpdate();\n      });\n    }\n\n    el.__composer = composer;\n    el.textContent = textContent;\n  };\n\n  const unregister = el => {\n    if (shared.inBrowser && el.__i18nWatcher) {\n      el.__i18nWatcher();\n\n      el.__i18nWatcher = undefined;\n      delete el.__i18nWatcher;\n    }\n\n    if (el.__composer) {\n      el.__composer = undefined;\n      delete el.__composer;\n    }\n  };\n\n  const update = (el, {\n    value\n  }) => {\n    if (el.__composer) {\n      const composer = el.__composer;\n      const parsedValue = parseValue(value);\n      el.textContent = Reflect.apply(composer.t, composer, [...makeParams(parsedValue)]);\n    }\n  };\n\n  const getSSRProps = binding => {\n    const [textContent] = _process(binding);\n\n    return {\n      textContent\n    };\n  };\n\n  return {\n    created: register,\n    unmounted: unregister,\n    beforeUpdate: update,\n    getSSRProps\n  };\n}\n\nfunction parseValue(value) {\n  if (shared.isString(value)) {\n    return {\n      path: value\n    };\n  } else if (shared.isPlainObject(value)) {\n    if (!('path' in value)) {\n      throw createI18nError(I18nErrorCodes.REQUIRED_VALUE, 'path');\n    }\n\n    return value;\n  } else {\n    throw createI18nError(I18nErrorCodes.INVALID_VALUE);\n  }\n}\n\nfunction makeParams(value) {\n  const {\n    path,\n    locale,\n    args,\n    choice,\n    plural\n  } = value;\n  const options = {};\n  const named = args || {};\n\n  if (shared.isString(locale)) {\n    options.locale = locale;\n  }\n\n  if (shared.isNumber(choice)) {\n    options.plural = choice;\n  }\n\n  if (shared.isNumber(plural)) {\n    options.plural = plural;\n  }\n\n  return [path, named, options];\n}\n\nfunction apply(app, i18n, ...options) {\n  const pluginOptions = shared.isPlainObject(options[0]) ? options[0] : {};\n  const useI18nComponentName = !!pluginOptions.useI18nComponentName;\n  const globalInstall = shared.isBoolean(pluginOptions.globalInstall) ? pluginOptions.globalInstall : true;\n\n  if (globalInstall && useI18nComponentName) {\n    shared.warn(getWarnMessage(I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE, {\n      name: Translation.name\n    }));\n  }\n\n  if (globalInstall) {\n    // install components\n    app.component(!useI18nComponentName ? Translation.name : 'i18n', Translation);\n    app.component(NumberFormat.name, NumberFormat);\n    app.component(DatetimeFormat.name, DatetimeFormat);\n  } // install directive\n\n\n  {\n    app.directive('t', vTDirective(i18n));\n  }\n}\n/**\r\n * Supports compatibility for legacy vue-i18n APIs\r\n * This mixin is used when we use vue-i18n@v9.x or later\r\n */\n\n\nfunction defineMixin(vuei18n, composer, i18n) {\n  return {\n    beforeCreate() {\n      const instance = vue.getCurrentInstance();\n      /* istanbul ignore if */\n\n      if (!instance) {\n        throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n      }\n\n      const options = this.$options;\n\n      if (options.i18n) {\n        const optionsI18n = options.i18n;\n\n        if (options.__i18n) {\n          optionsI18n.__i18n = options.__i18n;\n        }\n\n        optionsI18n.__root = composer;\n\n        if (this === this.$root) {\n          this.$i18n = mergeToRoot(vuei18n, optionsI18n);\n        } else {\n          optionsI18n.__injectWithOption = true;\n          this.$i18n = createVueI18n(optionsI18n);\n        }\n      } else if (options.__i18n) {\n        if (this === this.$root) {\n          this.$i18n = mergeToRoot(vuei18n, options);\n        } else {\n          this.$i18n = createVueI18n({\n            __i18n: options.__i18n,\n            __injectWithOption: true,\n            __root: composer\n          });\n        }\n      } else {\n        // set global\n        this.$i18n = vuei18n;\n      }\n\n      if (options.__i18nGlobal) {\n        adjustI18nResources(composer, options, options);\n      }\n\n      vuei18n.__onComponentInstanceCreated(this.$i18n);\n\n      i18n.__setInstance(instance, this.$i18n); // defines vue-i18n legacy APIs\n\n\n      this.$t = (...args) => this.$i18n.t(...args);\n\n      this.$rt = (...args) => this.$i18n.rt(...args);\n\n      this.$tc = (...args) => this.$i18n.tc(...args);\n\n      this.$te = (key, locale) => this.$i18n.te(key, locale);\n\n      this.$d = (...args) => this.$i18n.d(...args);\n\n      this.$n = (...args) => this.$i18n.n(...args);\n\n      this.$tm = key => this.$i18n.tm(key);\n    },\n\n    mounted() {},\n\n    unmounted() {\n      const instance = vue.getCurrentInstance();\n      /* istanbul ignore if */\n\n      if (!instance) {\n        throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n      }\n\n      delete this.$t;\n      delete this.$rt;\n      delete this.$tc;\n      delete this.$te;\n      delete this.$d;\n      delete this.$n;\n      delete this.$tm;\n\n      i18n.__deleteInstance(instance);\n\n      delete this.$i18n;\n    }\n\n  };\n}\n\nfunction mergeToRoot(root, options) {\n  root.locale = options.locale || root.locale;\n  root.fallbackLocale = options.fallbackLocale || root.fallbackLocale;\n  root.missing = options.missing || root.missing;\n  root.silentTranslationWarn = options.silentTranslationWarn || root.silentFallbackWarn;\n  root.silentFallbackWarn = options.silentFallbackWarn || root.silentFallbackWarn;\n  root.formatFallbackMessages = options.formatFallbackMessages || root.formatFallbackMessages;\n  root.postTranslation = options.postTranslation || root.postTranslation;\n  root.warnHtmlInMessage = options.warnHtmlInMessage || root.warnHtmlInMessage;\n  root.escapeParameterHtml = options.escapeParameterHtml || root.escapeParameterHtml;\n  root.sync = options.sync || root.sync;\n\n  root.__composer[SetPluralRulesSymbol](options.pluralizationRules || root.pluralizationRules);\n\n  const messages = getLocaleMessages(root.locale, {\n    messages: options.messages,\n    __i18n: options.__i18n\n  });\n  Object.keys(messages).forEach(locale => root.mergeLocaleMessage(locale, messages[locale]));\n\n  if (options.datetimeFormats) {\n    Object.keys(options.datetimeFormats).forEach(locale => root.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\n  }\n\n  if (options.numberFormats) {\n    Object.keys(options.numberFormats).forEach(locale => root.mergeNumberFormat(locale, options.numberFormats[locale]));\n  }\n\n  return root;\n}\n/**\r\n * Injection key for {@link useI18n}\r\n *\r\n * @remarks\r\n * The global injection key for I18n instances with `useI18n`. this injection key is used in Web Components.\r\n * Specify the i18n instance created by {@link createI18n} together with `provide` function.\r\n *\r\n * @VueI18nGeneral\r\n */\n\n\nconst I18nInjectionKey = /* #__PURE__*/shared.makeSymbol('global-vue-i18n'); // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n\nfunction createI18n(options = {}, VueI18nLegacy) {\n  // prettier-ignore\n  const __legacyMode = shared.isBoolean(options.legacy) ? options.legacy : true; // prettier-ignore\n\n\n  const __globalInjection = shared.isBoolean(options.globalInjection) ? options.globalInjection : true; // prettier-ignore\n\n\n  const __allowComposition = __legacyMode ? !!options.allowComposition : true;\n\n  const __instances = new Map();\n\n  const [globalScope, __global] = createGlobal(options, __legacyMode);\n  const symbol = shared.makeSymbol('vue-i18n');\n\n  function __getInstance(component) {\n    return __instances.get(component) || null;\n  }\n\n  function __setInstance(component, instance) {\n    __instances.set(component, instance);\n  }\n\n  function __deleteInstance(component) {\n    __instances.delete(component);\n  }\n\n  {\n    const i18n = {\n      // mode\n      get mode() {\n        return __legacyMode ? 'legacy' : 'composition';\n      },\n\n      // allowComposition\n      get allowComposition() {\n        return __allowComposition;\n      },\n\n      // install plugin\n      async install(app, ...options) {\n        // setup global provider\n        app.__VUE_I18N_SYMBOL__ = symbol;\n        app.provide(app.__VUE_I18N_SYMBOL__, i18n); // global method and properties injection for Composition API\n\n        if (!__legacyMode && __globalInjection) {\n          injectGlobalFields(app, i18n.global);\n        } // install built-in components and directive\n\n\n        {\n          apply(app, i18n, ...options);\n        } // setup mixin for Legacy API\n\n        if (__legacyMode) {\n          app.mixin(defineMixin(__global, __global.__composer, i18n));\n        } // release global scope\n\n\n        const unmountApp = app.unmount;\n\n        app.unmount = () => {\n          i18n.dispose();\n          unmountApp();\n        };\n      },\n\n      // global accessor\n      get global() {\n        return __global;\n      },\n\n      dispose() {\n        globalScope.stop();\n      },\n\n      // @internal\n      __instances,\n      // @internal\n      __getInstance,\n      // @internal\n      __setInstance,\n      // @internal\n      __deleteInstance\n    };\n    return i18n;\n  }\n} // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n\nfunction useI18n(options = {}) {\n  const instance = vue.getCurrentInstance();\n\n  if (instance == null) {\n    throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);\n  }\n\n  if (!instance.isCE && instance.appContext.app != null && !instance.appContext.app.__VUE_I18N_SYMBOL__) {\n    throw createI18nError(I18nErrorCodes.NOT_INSLALLED);\n  }\n\n  const i18n = getI18nInstance(instance);\n  const global = getGlobalComposer(i18n);\n  const componentOptions = getComponentOptions(instance);\n  const scope = getScope(options, componentOptions);\n  {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (i18n.mode === 'legacy' && !options.__useComponent) {\n      if (!i18n.allowComposition) {\n        throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);\n      }\n\n      return useI18nForLegacy(instance, scope, global, options);\n    }\n  }\n\n  if (scope === 'global') {\n    adjustI18nResources(global, options, componentOptions);\n    return global;\n  }\n\n  if (scope === 'parent') {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let composer = getComposer(i18n, instance, options.__useComponent);\n\n    if (composer == null) {\n      {\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_FOUND_PARENT_SCOPE));\n      }\n      composer = global;\n    }\n\n    return composer;\n  }\n\n  const i18nInternal = i18n;\n\n  let composer = i18nInternal.__getInstance(instance);\n\n  if (composer == null) {\n    const composerOptions = shared.assign({}, options);\n\n    if ('__i18n' in componentOptions) {\n      composerOptions.__i18n = componentOptions.__i18n;\n    }\n\n    if (global) {\n      composerOptions.__root = global;\n    }\n\n    composer = createComposer(composerOptions);\n    setupLifeCycle(i18nInternal, instance);\n\n    i18nInternal.__setInstance(instance, composer);\n  }\n\n  return composer;\n}\n/**\r\n * Cast to VueI18n legacy compatible type\r\n *\r\n * @remarks\r\n * This API is provided only with [vue-i18n-bridge](https://vue-i18n.intlify.dev/guide/migration/ways.html#what-is-vue-i18n-bridge).\r\n *\r\n * The purpose of this function is to convert an {@link I18n} instance created with {@link createI18n | createI18n(legacy: true)} into a `vue-i18n@v8.x` compatible instance of `new VueI18n` in a TypeScript environment.\r\n *\r\n * @param i18n - An instance of {@link I18n}\r\n * @returns A i18n instance which is casted to {@link VueI18n} type\r\n *\r\n * @VueI18nTip\r\n * :new: provided by **vue-i18n-bridge only**\r\n *\r\n * @VueI18nGeneral\r\n */\n\n\nconst castToVueI18n = (i18n // eslint-disable-next-line @typescript-eslint/no-explicit-any\n) => {\n  if (!(__VUE_I18N_BRIDGE__ in i18n)) {\n    throw createI18nError(I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N);\n  }\n\n  return i18n;\n};\n\nfunction createGlobal(options, legacyMode, VueI18nLegacy // eslint-disable-line @typescript-eslint/no-explicit-any\n) {\n  const scope = vue.effectScope();\n  {\n    const obj = legacyMode ? scope.run(() => createVueI18n(options)) : scope.run(() => createComposer(options));\n\n    if (obj == null) {\n      throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n    }\n\n    return [scope, obj];\n  }\n}\n\nfunction getI18nInstance(instance) {\n  {\n    const i18n = vue.inject(!instance.isCE ? instance.appContext.app.__VUE_I18N_SYMBOL__ : I18nInjectionKey);\n    /* istanbul ignore if */\n\n    if (!i18n) {\n      throw createI18nError(!instance.isCE ? I18nErrorCodes.UNEXPECTED_ERROR : I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE);\n    }\n\n    return i18n;\n  }\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction getScope(options, componentOptions) {\n  // prettier-ignore\n  return shared.isEmptyObject(options) ? '__i18n' in componentOptions ? 'local' : 'global' : !options.useScope ? 'local' : options.useScope;\n}\n\nfunction getGlobalComposer(i18n) {\n  // prettier-ignore\n  return i18n.mode === 'composition' ? i18n.global : i18n.global.__composer;\n}\n\nfunction getComposer(i18n, target, useComponent = false) {\n  let composer = null;\n  const root = target.root;\n  let current = target.parent;\n\n  while (current != null) {\n    const i18nInternal = i18n;\n\n    if (i18n.mode === 'composition') {\n      composer = i18nInternal.__getInstance(current);\n    } else {\n      {\n        const vueI18n = i18nInternal.__getInstance(current);\n\n        if (vueI18n != null) {\n          composer = vueI18n.__composer;\n\n          if (useComponent && composer && !composer[InejctWithOption] // eslint-disable-line @typescript-eslint/no-explicit-any\n          ) {\n            composer = null;\n          }\n        }\n      }\n    }\n\n    if (composer != null) {\n      break;\n    }\n\n    if (root === current) {\n      break;\n    }\n\n    current = current.parent;\n  }\n\n  return composer;\n}\n\nfunction setupLifeCycle(i18n, target, composer) {\n  {\n    vue.onMounted(() => {}, target);\n    vue.onUnmounted(() => {\n      i18n.__deleteInstance(target);\n    }, target);\n  }\n}\n\nfunction useI18nForLegacy(instance, scope, root, options = {} // eslint-disable-line @typescript-eslint/no-explicit-any\n) {\n  const isLocale = scope === 'local';\n\n  const _composer = vue.shallowRef(null);\n\n  if (isLocale && instance.proxy && !(instance.proxy.$options.i18n || instance.proxy.$options.__i18n)) {\n    throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);\n  }\n\n  const _inheritLocale = shared.isBoolean(options.inheritLocale) ? options.inheritLocale : true;\n\n  const _locale = vue.ref( // prettier-ignore\n  isLocale && _inheritLocale ? root.locale.value : shared.isString(options.locale) ? options.locale : coreBase.DEFAULT_LOCALE);\n\n  const _fallbackLocale = vue.ref( // prettier-ignore\n  isLocale && _inheritLocale ? root.fallbackLocale.value : shared.isString(options.fallbackLocale) || shared.isArray(options.fallbackLocale) || shared.isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : _locale.value);\n\n  const _messages = vue.ref(getLocaleMessages(_locale.value, options)); // prettier-ignore\n\n\n  const _datetimeFormats = vue.ref(shared.isPlainObject(options.datetimeFormats) ? options.datetimeFormats : {\n    [_locale.value]: {}\n  }); // prettier-ignore\n\n\n  const _numberFormats = vue.ref(shared.isPlainObject(options.numberFormats) ? options.numberFormats : {\n    [_locale.value]: {}\n  }); // prettier-ignore\n\n\n  const _missingWarn = isLocale ? root.missingWarn : shared.isBoolean(options.missingWarn) || shared.isRegExp(options.missingWarn) ? options.missingWarn : true; // prettier-ignore\n\n\n  const _fallbackWarn = isLocale ? root.fallbackWarn : shared.isBoolean(options.fallbackWarn) || shared.isRegExp(options.fallbackWarn) ? options.fallbackWarn : true; // prettier-ignore\n\n\n  const _fallbackRoot = isLocale ? root.fallbackRoot : shared.isBoolean(options.fallbackRoot) ? options.fallbackRoot : true; // configure fall back to root\n\n\n  const _fallbackFormat = !!options.fallbackFormat; // runtime missing\n\n\n  const _missing = shared.isFunction(options.missing) ? options.missing : null; // postTranslation handler\n\n\n  const _postTranslation = shared.isFunction(options.postTranslation) ? options.postTranslation : null; // prettier-ignore\n\n\n  const _warnHtmlMessage = isLocale ? root.warnHtmlMessage : shared.isBoolean(options.warnHtmlMessage) ? options.warnHtmlMessage : true;\n\n  const _escapeParameter = !!options.escapeParameter; // prettier-ignore\n\n\n  const _modifiers = isLocale ? root.modifiers : shared.isPlainObject(options.modifiers) ? options.modifiers : {}; // pluralRules\n\n\n  const _pluralRules = options.pluralRules || isLocale && root.pluralRules; // track reactivity\n\n\n  function trackReactivityValues() {\n    return [_locale.value, _fallbackLocale.value, _messages.value, _datetimeFormats.value, _numberFormats.value];\n  } // locale\n\n\n  const locale = vue.computed({\n    get: () => {\n      return _composer.value ? _composer.value.locale.value : _locale.value;\n    },\n    set: val => {\n      if (_composer.value) {\n        _composer.value.locale.value = val;\n      }\n\n      _locale.value = val;\n    }\n  }); // fallbackLocale\n\n  const fallbackLocale = vue.computed({\n    get: () => {\n      return _composer.value ? _composer.value.fallbackLocale.value : _fallbackLocale.value;\n    },\n    set: val => {\n      if (_composer.value) {\n        _composer.value.fallbackLocale.value = val;\n      }\n\n      _fallbackLocale.value = val;\n    }\n  }); // messages\n\n  const messages = vue.computed(() => {\n    if (_composer.value) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return _composer.value.messages.value;\n    } else {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return _messages.value;\n    }\n  });\n  const datetimeFormats = vue.computed(() => _datetimeFormats.value);\n  const numberFormats = vue.computed(() => _numberFormats.value);\n\n  function getPostTranslationHandler() {\n    return _composer.value ? _composer.value.getPostTranslationHandler() : _postTranslation;\n  }\n\n  function setPostTranslationHandler(handler) {\n    if (_composer.value) {\n      _composer.value.setPostTranslationHandler(handler);\n    }\n  }\n\n  function getMissingHandler() {\n    return _composer.value ? _composer.value.getMissingHandler() : _missing;\n  }\n\n  function setMissingHandler(handler) {\n    if (_composer.value) {\n      _composer.value.setMissingHandler(handler);\n    }\n  }\n\n  function warpWithDeps(fn) {\n    trackReactivityValues();\n    return fn();\n  }\n\n  function t(...args) {\n    return _composer.value ? warpWithDeps(() => Reflect.apply(_composer.value.t, null, [...args])) : warpWithDeps(() => '');\n  }\n\n  function rt(...args) {\n    return _composer.value ? Reflect.apply(_composer.value.rt, null, [...args]) : '';\n  }\n\n  function d(...args) {\n    return _composer.value ? warpWithDeps(() => Reflect.apply(_composer.value.d, null, [...args])) : warpWithDeps(() => '');\n  }\n\n  function n(...args) {\n    return _composer.value ? warpWithDeps(() => Reflect.apply(_composer.value.n, null, [...args])) : warpWithDeps(() => '');\n  }\n\n  function tm(key) {\n    return _composer.value ? _composer.value.tm(key) : {};\n  }\n\n  function te(key, locale) {\n    return _composer.value ? _composer.value.te(key, locale) : false;\n  }\n\n  function getLocaleMessage(locale) {\n    return _composer.value ? _composer.value.getLocaleMessage(locale) : {};\n  }\n\n  function setLocaleMessage(locale, message) {\n    if (_composer.value) {\n      _composer.value.setLocaleMessage(locale, message);\n\n      _messages.value[locale] = message;\n    }\n  }\n\n  function mergeLocaleMessage(locale, message) {\n    if (_composer.value) {\n      _composer.value.mergeLocaleMessage(locale, message);\n    }\n  }\n\n  function getDateTimeFormat(locale) {\n    return _composer.value ? _composer.value.getDateTimeFormat(locale) : {};\n  }\n\n  function setDateTimeFormat(locale, format) {\n    if (_composer.value) {\n      _composer.value.setDateTimeFormat(locale, format);\n\n      _datetimeFormats.value[locale] = format;\n    }\n  }\n\n  function mergeDateTimeFormat(locale, format) {\n    if (_composer.value) {\n      _composer.value.mergeDateTimeFormat(locale, format);\n    }\n  }\n\n  function getNumberFormat(locale) {\n    return _composer.value ? _composer.value.getNumberFormat(locale) : {};\n  }\n\n  function setNumberFormat(locale, format) {\n    if (_composer.value) {\n      _composer.value.setNumberFormat(locale, format);\n\n      _numberFormats.value[locale] = format;\n    }\n  }\n\n  function mergeNumberFormat(locale, format) {\n    if (_composer.value) {\n      _composer.value.mergeNumberFormat(locale, format);\n    }\n  }\n\n  const wrapper = {\n    get id() {\n      return _composer.value ? _composer.value.id : -1;\n    },\n\n    locale,\n    fallbackLocale,\n    messages,\n    datetimeFormats,\n    numberFormats,\n\n    get inheritLocale() {\n      return _composer.value ? _composer.value.inheritLocale : _inheritLocale;\n    },\n\n    set inheritLocale(val) {\n      if (_composer.value) {\n        _composer.value.inheritLocale = val;\n      }\n    },\n\n    get availableLocales() {\n      return _composer.value ? _composer.value.availableLocales : Object.keys(_messages.value);\n    },\n\n    get modifiers() {\n      return _composer.value ? _composer.value.modifiers : _modifiers;\n    },\n\n    get pluralRules() {\n      return _composer.value ? _composer.value.pluralRules : _pluralRules;\n    },\n\n    get isGlobal() {\n      return _composer.value ? _composer.value.isGlobal : false;\n    },\n\n    get missingWarn() {\n      return _composer.value ? _composer.value.missingWarn : _missingWarn;\n    },\n\n    set missingWarn(val) {\n      if (_composer.value) {\n        _composer.value.missingWarn = val;\n      }\n    },\n\n    get fallbackWarn() {\n      return _composer.value ? _composer.value.fallbackWarn : _fallbackWarn;\n    },\n\n    set fallbackWarn(val) {\n      if (_composer.value) {\n        _composer.value.missingWarn = val;\n      }\n    },\n\n    get fallbackRoot() {\n      return _composer.value ? _composer.value.fallbackRoot : _fallbackRoot;\n    },\n\n    set fallbackRoot(val) {\n      if (_composer.value) {\n        _composer.value.fallbackRoot = val;\n      }\n    },\n\n    get fallbackFormat() {\n      return _composer.value ? _composer.value.fallbackFormat : _fallbackFormat;\n    },\n\n    set fallbackFormat(val) {\n      if (_composer.value) {\n        _composer.value.fallbackFormat = val;\n      }\n    },\n\n    get warnHtmlMessage() {\n      return _composer.value ? _composer.value.warnHtmlMessage : _warnHtmlMessage;\n    },\n\n    set warnHtmlMessage(val) {\n      if (_composer.value) {\n        _composer.value.warnHtmlMessage = val;\n      }\n    },\n\n    get escapeParameter() {\n      return _composer.value ? _composer.value.escapeParameter : _escapeParameter;\n    },\n\n    set escapeParameter(val) {\n      if (_composer.value) {\n        _composer.value.escapeParameter = val;\n      }\n    },\n\n    t,\n    getPostTranslationHandler,\n    setPostTranslationHandler,\n    getMissingHandler,\n    setMissingHandler,\n    rt,\n    d,\n    n,\n    tm,\n    te,\n    getLocaleMessage,\n    setLocaleMessage,\n    mergeLocaleMessage,\n    getDateTimeFormat,\n    setDateTimeFormat,\n    mergeDateTimeFormat,\n    getNumberFormat,\n    setNumberFormat,\n    mergeNumberFormat\n  };\n\n  function sync(composer) {\n    composer.locale.value = _locale.value;\n    composer.fallbackLocale.value = _fallbackLocale.value;\n    Object.keys(_messages.value).forEach(locale => {\n      composer.mergeLocaleMessage(locale, _messages.value[locale]);\n    });\n    Object.keys(_datetimeFormats.value).forEach(locale => {\n      composer.mergeDateTimeFormat(locale, _datetimeFormats.value[locale]);\n    });\n    Object.keys(_numberFormats.value).forEach(locale => {\n      composer.mergeNumberFormat(locale, _numberFormats.value[locale]);\n    });\n    composer.escapeParameter = _escapeParameter;\n    composer.fallbackFormat = _fallbackFormat;\n    composer.fallbackRoot = _fallbackRoot;\n    composer.fallbackWarn = _fallbackWarn;\n    composer.missingWarn = _missingWarn;\n    composer.warnHtmlMessage = _warnHtmlMessage;\n  }\n\n  vue.onBeforeMount(() => {\n    if (instance.proxy == null || instance.proxy.$i18n == null) {\n      throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);\n    } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    const composer = _composer.value = instance.proxy.$i18n.__composer;\n\n    if (scope === 'global') {\n      _locale.value = composer.locale.value;\n      _fallbackLocale.value = composer.fallbackLocale.value;\n      _messages.value = composer.messages.value;\n      _datetimeFormats.value = composer.datetimeFormats.value;\n      _numberFormats.value = composer.numberFormats.value;\n    } else if (isLocale) {\n      sync(composer);\n    }\n  });\n  return wrapper;\n}\n\nconst globalExportProps = ['locale', 'fallbackLocale', 'availableLocales'];\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm'];\n\nfunction injectGlobalFields(app, composer) {\n  const i18n = Object.create(null);\n  globalExportProps.forEach(prop => {\n    const desc = Object.getOwnPropertyDescriptor(composer, prop);\n\n    if (!desc) {\n      throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n    }\n\n    const wrap = vue.isRef(desc.value) // check computed props\n    ? {\n      get() {\n        return desc.value.value;\n      },\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      set(val) {\n        desc.value.value = val;\n      }\n\n    } : {\n      get() {\n        return desc.get && desc.get();\n      }\n\n    };\n    Object.defineProperty(i18n, prop, wrap);\n  });\n  app.config.globalProperties.$i18n = i18n;\n  globalExportMethods.forEach(method => {\n    const desc = Object.getOwnPropertyDescriptor(composer, method);\n\n    if (!desc || !desc.value) {\n      throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n    }\n\n    Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\n  });\n} // register message compiler at vue-i18n\n\n\ncoreBase.registerMessageCompiler(coreBase.compileToFunction); // register message resolver at vue-i18n\n\ncoreBase.registerMessageResolver(coreBase.resolveValue); // register fallback locale at vue-i18n\n\ncoreBase.registerLocaleFallbacker(coreBase.fallbackWithLocaleChain); // NOTE: experimental !!\n\n{\n  const target = shared.getGlobalThis();\n  target.__INTLIFY__ = true;\n  coreBase.setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\n}\nexports.DatetimeFormat = DatetimeFormat;\nexports.I18nInjectionKey = I18nInjectionKey;\nexports.NumberFormat = NumberFormat;\nexports.Translation = Translation;\nexports.VERSION = VERSION;\nexports.castToVueI18n = castToVueI18n;\nexports.createI18n = createI18n;\nexports.useI18n = useI18n;\nexports.vTDirective = vTDirective;","map":{"version":3,"names":["Object","defineProperty","exports","value","shared","require","coreBase","vue","VERSION","code$1","CoreWarnCodes","__EXTEND_POINT__","inc$1","I18nWarnCodes","FALLBACK_TO_ROOT","NOT_SUPPORTED_PRESERVE","NOT_SUPPORTED_FORMATTER","NOT_SUPPORTED_PRESERVE_DIRECTIVE","NOT_SUPPORTED_GET_CHOICE_INDEX","COMPONENT_NAME_LEGACY_COMPATIBLE","NOT_FOUND_PARENT_SCOPE","warnMessages","getWarnMessage","code","args","format","CompileErrorCodes","inc","I18nErrorCodes","UNEXPECTED_RETURN_TYPE","INVALID_ARGUMENT","MUST_BE_CALL_SETUP_TOP","NOT_INSLALLED","NOT_AVAILABLE_IN_LEGACY_MODE","REQUIRED_VALUE","INVALID_VALUE","CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN","NOT_INSLALLED_WITH_PROVIDE","UNEXPECTED_ERROR","NOT_COMPATIBLE_LEGACY_VUE_I18N","BRIDGE_SUPPORT_VUE_2_ONLY","MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION","NOT_AVAILABLE_COMPOSITION_IN_LEGACY","createI18nError","createCompileError","messages","errorMessages","TransrateVNodeSymbol","makeSymbol","DatetimePartsSymbol","NumberPartsSymbol","EnableEmitter","DisableEmitter","SetPluralRulesSymbol","InejctWithOption","__VUE_I18N_BRIDGE__","handleFlatJson","obj","isObject","key","hasOwn","includes","subKeys","split","lastIndex","length","currentObj","i","getLocaleMessages","locale","options","__i18n","messageResolver","flatJson","ret","isPlainObject","isArray","forEach","custom","resource","deepCopy","isString","JSON","parse","isNotObjectOrIsArray","val","src","des","getComponentOptions","instance","type","adjustI18nResources","global","componentOptions","__i18nGlobal","locales","keys","mergeLocaleMessage","datetimeFormats","mergeDateTimeFormat","numberFormats","mergeNumberFormat","createTextNode","createVNode","Text","DEVTOOLS_META","composerID","defineCoreMissingHandler","missing","ctx","getCurrentInstance","undefined","getMetaInfo","meta","createComposer","VueI18nLegacy","__root","_isGlobal","_inheritLocale","isBoolean","inheritLocale","_locale","ref","DEFAULT_LOCALE","_fallbackLocale","fallbackLocale","_messages","_datetimeFormats","_numberFormats","_missingWarn","missingWarn","isRegExp","_fallbackWarn","fallbackWarn","_fallbackRoot","fallbackRoot","_fallbackFormat","fallbackFormat","_missing","isFunction","_runtimeMissing","_postTranslation","postTranslation","_warnHtmlMessage","warnHtmlMessage","_escapeParameter","escapeParameter","_modifiers","modifiers","_pluralRules","pluralRules","_context","getCoreContext","setFallbackContext","ctxOptions","version","unresolving","__meta","framework","__datetimeFormatters","__numberFormatters","__v_emitter","createCoreContext","updateFallbackLocale","trackReactivityValues","computed","get","set","getPostTranslationHandler","setPostTranslationHandler","handler","getMissingHandler","setMissingHandler","isResolvedTranslateMessage","arg","resolvedMessage","wrapWithDeps","fn","argumentParser","warnType","fallbackSuccess","fallbackFail","successCondition","setAdditionalMeta","fallbackContext","getFallbackContext","isNumber","NOT_REOSLVED","arg2","isTranslateFallbackWarn","isTranslateMissingWarn","warn","emitter","emit","to","groupId","t","context","Reflect","apply","translate","parseTranslateArgs","root","rt","arg1","arg3","assign","d","datetime","parseDateTimeArgs","MISSING_RESOLVE_VALUE","n","number","parseNumberArgs","normalize","values","map","String","interpolate","processor","transrateVNode","numberParts","datetimeParts","setPluralRules","rules","te","targetLocale","message","getLocaleMessage","resolveMessages","fallbackWithLocaleChain","targetLocaleMessages","messageValue","tm","setLocaleMessage","getDateTimeFormat","setDateTimeFormat","clearDateTimeFormat","getNumberFormat","setNumberFormat","clearNumberFormat","inBrowser","watch","composer","id","availableLocales","sort","isGlobal","__injectWithOption","convertComposerOptions","silentTranslationWarn","silentFallbackWarn","formatFallbackMessages","pluralizationRules","warnHtmlInMessage","escapeParameterHtml","sync","formatter","preserveDirectiveContent","sharedMessages","reduce","createVueI18n","vueI18n","__composer","list","named","tc","plural","getChoiceIndex","choice","choicesLength","__onComponentInstanceCreated","target","componentInstanceCreatedListener","__enableEmitter","__disableEmitter","baseFormatProps","tag","scope","validator","default","i18n","getInterpolateArg","slots","slot","current","children","getFragmentableTag","Fragment","Translation","name","props","keypath","required","Number","isNaN","setup","attrs","useI18n","useScope","__useComponent","filter","assignedAttrs","h","isVNode","renderFormatter","slotKeys","partFormatter","part","overrides","prop","parts","index","node","NumberFormat","NUMBER_FORMAT_OPTIONS_KEYS","DatetimeFormat","Date","DATETIME_FORMAT_OPTIONS_KEYS","getComposer$1","i18nInternal","mode","__getInstance","vTDirective","_process","binding","$","preserve","parsedValue","parseValue","makeParams","register","el","textContent","__i18nWatcher","$forceUpdate","unregister","update","getSSRProps","created","unmounted","beforeUpdate","path","app","pluginOptions","useI18nComponentName","globalInstall","component","directive","defineMixin","vuei18n","beforeCreate","$options","optionsI18n","$root","$i18n","mergeToRoot","__setInstance","$t","$rt","$tc","$te","$d","$n","$tm","mounted","__deleteInstance","I18nInjectionKey","createI18n","__legacyMode","legacy","__globalInjection","globalInjection","__allowComposition","allowComposition","__instances","Map","globalScope","__global","createGlobal","symbol","delete","install","__VUE_I18N_SYMBOL__","provide","injectGlobalFields","mixin","unmountApp","unmount","dispose","stop","isCE","appContext","getI18nInstance","getGlobalComposer","getScope","useI18nForLegacy","getComposer","composerOptions","setupLifeCycle","castToVueI18n","legacyMode","effectScope","run","inject","isEmptyObject","useComponent","parent","onMounted","onUnmounted","isLocale","_composer","shallowRef","proxy","warpWithDeps","wrapper","onBeforeMount","globalExportProps","globalExportMethods","create","desc","getOwnPropertyDescriptor","wrap","isRef","config","globalProperties","method","registerMessageCompiler","compileToFunction","registerMessageResolver","resolveValue","registerLocaleFallbacker","getGlobalThis","__INTLIFY__","setDevToolsHook","__INTLIFY_DEVTOOLS_GLOBAL_HOOK__"],"sources":["D:/0. TaiPT/2.Vue JS/sakai-vue/node_modules/vue-i18n/dist/vue-i18n.cjs.js"],"sourcesContent":["/*!\n  * vue-i18n v9.2.2\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar shared = require('@intlify/shared');\nvar coreBase = require('@intlify/core-base');\nvar vue = require('vue');\n\n/**\r\n * Vue I18n Version\r\n *\r\n * @remarks\r\n * Semver format. Same format as the package.json `version` field.\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst VERSION = '9.2.2';\n\nlet code$1 = coreBase.CoreWarnCodes.__EXTEND_POINT__;\r\nconst inc$1 = () => ++code$1;\r\nconst I18nWarnCodes = {\r\n    FALLBACK_TO_ROOT: code$1,\r\n    NOT_SUPPORTED_PRESERVE: inc$1(),\r\n    NOT_SUPPORTED_FORMATTER: inc$1(),\r\n    NOT_SUPPORTED_PRESERVE_DIRECTIVE: inc$1(),\r\n    NOT_SUPPORTED_GET_CHOICE_INDEX: inc$1(),\r\n    COMPONENT_NAME_LEGACY_COMPATIBLE: inc$1(),\r\n    NOT_FOUND_PARENT_SCOPE: inc$1() // 13\r\n};\r\nconst warnMessages = {\r\n    [I18nWarnCodes.FALLBACK_TO_ROOT]: `Fall back to {type} '{key}' with root locale.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_PRESERVE]: `Not supported 'preserve'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_FORMATTER]: `Not supported 'formatter'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE]: `Not supported 'preserveDirectiveContent'.`,\r\n    [I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX]: `Not supported 'getChoiceIndex'.`,\r\n    [I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE]: `Component name legacy compatible: '{name}' -> 'i18n'`,\r\n    [I18nWarnCodes.NOT_FOUND_PARENT_SCOPE]: `Not found parent scope. use the global scope.`\r\n};\r\nfunction getWarnMessage(code, ...args) {\r\n    return shared.format(warnMessages[code], ...args);\r\n}\n\nlet code = coreBase.CompileErrorCodes.__EXTEND_POINT__;\r\nconst inc = () => ++code;\r\nconst I18nErrorCodes = {\r\n    // composer module errors\r\n    UNEXPECTED_RETURN_TYPE: code,\r\n    // legacy module errors\r\n    INVALID_ARGUMENT: inc(),\r\n    // i18n module errors\r\n    MUST_BE_CALL_SETUP_TOP: inc(),\r\n    NOT_INSLALLED: inc(),\r\n    NOT_AVAILABLE_IN_LEGACY_MODE: inc(),\r\n    // directive module errors\r\n    REQUIRED_VALUE: inc(),\r\n    INVALID_VALUE: inc(),\r\n    // vue-devtools errors\r\n    CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN: inc(),\r\n    NOT_INSLALLED_WITH_PROVIDE: inc(),\r\n    // unexpected error\r\n    UNEXPECTED_ERROR: inc(),\r\n    // not compatible legacy vue-i18n constructor\r\n    NOT_COMPATIBLE_LEGACY_VUE_I18N: inc(),\r\n    // bridge support vue 2.x only\r\n    BRIDGE_SUPPORT_VUE_2_ONLY: inc(),\r\n    // need to define `i18n` option in `allowComposition: true` and `useScope: 'local' at `useI18n``\r\n    MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION: inc(),\r\n    // Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly\r\n    NOT_AVAILABLE_COMPOSITION_IN_LEGACY: inc(),\r\n    // for enhancement\r\n    __EXTEND_POINT__: inc() // 29\r\n};\r\nfunction createI18nError(code, ...args) {\r\n    return coreBase.createCompileError(code, null, { messages: errorMessages, args } );\r\n}\r\nconst errorMessages = {\r\n    [I18nErrorCodes.UNEXPECTED_RETURN_TYPE]: 'Unexpected return type in composer',\r\n    [I18nErrorCodes.INVALID_ARGUMENT]: 'Invalid argument',\r\n    [I18nErrorCodes.MUST_BE_CALL_SETUP_TOP]: 'Must be called at the top of a `setup` function',\r\n    [I18nErrorCodes.NOT_INSLALLED]: 'Need to install with `app.use` function',\r\n    [I18nErrorCodes.UNEXPECTED_ERROR]: 'Unexpected error',\r\n    [I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE]: 'Not available in legacy mode',\r\n    [I18nErrorCodes.REQUIRED_VALUE]: `Required in value: {0}`,\r\n    [I18nErrorCodes.INVALID_VALUE]: `Invalid value`,\r\n    [I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]: `Cannot setup vue-devtools plugin`,\r\n    [I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE]: 'Need to install with `provide` function',\r\n    [I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N]: 'Not compatible legacy VueI18n.',\r\n    [I18nErrorCodes.BRIDGE_SUPPORT_VUE_2_ONLY]: 'vue-i18n-bridge support Vue 2.x only',\r\n    [I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]: 'Must define ‘i18n’ option or custom block in Composition API with using local scope in Legacy API mode',\r\n    [I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]: 'Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly'\r\n};\n\nconst TransrateVNodeSymbol = \r\n/* #__PURE__*/ shared.makeSymbol('__transrateVNode');\r\nconst DatetimePartsSymbol = /* #__PURE__*/ shared.makeSymbol('__datetimeParts');\r\nconst NumberPartsSymbol = /* #__PURE__*/ shared.makeSymbol('__numberParts');\r\nconst EnableEmitter = /* #__PURE__*/ shared.makeSymbol('__enableEmitter');\r\nconst DisableEmitter = /* #__PURE__*/ shared.makeSymbol('__disableEmitter');\r\nconst SetPluralRulesSymbol = shared.makeSymbol('__setPluralRules');\r\nshared.makeSymbol('__intlifyMeta');\r\nconst InejctWithOption = /* #__PURE__*/ shared.makeSymbol('__injectWithOption');\r\nconst __VUE_I18N_BRIDGE__ =  '__VUE_I18N_BRIDGE__';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Transform flat json in obj to normal json in obj\r\n */\r\nfunction handleFlatJson(obj) {\r\n    // check obj\r\n    if (!shared.isObject(obj)) {\r\n        return obj;\r\n    }\r\n    for (const key in obj) {\r\n        // check key\r\n        if (!shared.hasOwn(obj, key)) {\r\n            continue;\r\n        }\r\n        // handle for normal json\r\n        if (!key.includes('.')) {\r\n            // recursive process value if value is also a object\r\n            if (shared.isObject(obj[key])) {\r\n                handleFlatJson(obj[key]);\r\n            }\r\n        }\r\n        // handle for flat json, transform to normal json\r\n        else {\r\n            // go to the last object\r\n            const subKeys = key.split('.');\r\n            const lastIndex = subKeys.length - 1;\r\n            let currentObj = obj;\r\n            for (let i = 0; i < lastIndex; i++) {\r\n                if (!(subKeys[i] in currentObj)) {\r\n                    currentObj[subKeys[i]] = {};\r\n                }\r\n                currentObj = currentObj[subKeys[i]];\r\n            }\r\n            // update last object value, delete old property\r\n            currentObj[subKeys[lastIndex]] = obj[key];\r\n            delete obj[key];\r\n            // recursive process value if value is also a object\r\n            if (shared.isObject(currentObj[subKeys[lastIndex]])) {\r\n                handleFlatJson(currentObj[subKeys[lastIndex]]);\r\n            }\r\n        }\r\n    }\r\n    return obj;\r\n}\r\nfunction getLocaleMessages(locale, options) {\r\n    const { messages, __i18n, messageResolver, flatJson } = options;\r\n    // prettier-ignore\r\n    const ret = shared.isPlainObject(messages)\r\n        ? messages\r\n        : shared.isArray(__i18n)\r\n            ? {}\r\n            : { [locale]: {} };\r\n    // merge locale messages of i18n custom block\r\n    if (shared.isArray(__i18n)) {\r\n        __i18n.forEach(custom => {\r\n            if ('locale' in custom && 'resource' in custom) {\r\n                const { locale, resource } = custom;\r\n                if (locale) {\r\n                    ret[locale] = ret[locale] || {};\r\n                    deepCopy(resource, ret[locale]);\r\n                }\r\n                else {\r\n                    deepCopy(resource, ret);\r\n                }\r\n            }\r\n            else {\r\n                shared.isString(custom) && deepCopy(JSON.parse(custom), ret);\r\n            }\r\n        });\r\n    }\r\n    // handle messages for flat json\r\n    if (messageResolver == null && flatJson) {\r\n        for (const key in ret) {\r\n            if (shared.hasOwn(ret, key)) {\r\n                handleFlatJson(ret[key]);\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nconst isNotObjectOrIsArray = (val) => !shared.isObject(val) || shared.isArray(val);\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\nfunction deepCopy(src, des) {\r\n    // src and des should both be objects, and non of then can be a array\r\n    if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\r\n        throw createI18nError(I18nErrorCodes.INVALID_VALUE);\r\n    }\r\n    for (const key in src) {\r\n        if (shared.hasOwn(src, key)) {\r\n            if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {\r\n                // replace with src[key] when:\r\n                // src[key] or des[key] is not a object, or\r\n                // src[key] or des[key] is a array\r\n                des[key] = src[key];\r\n            }\r\n            else {\r\n                // src[key] and des[key] are both object, merge them\r\n                deepCopy(src[key], des[key]);\r\n            }\r\n        }\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getComponentOptions(instance) {\r\n    return instance.type ;\r\n}\r\nfunction adjustI18nResources(global, options, componentOptions // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    let messages = shared.isObject(options.messages) ? options.messages : {};\r\n    if ('__i18nGlobal' in componentOptions) {\r\n        messages = getLocaleMessages(global.locale.value, {\r\n            messages,\r\n            __i18n: componentOptions.__i18nGlobal\r\n        });\r\n    }\r\n    // merge locale messages\r\n    const locales = Object.keys(messages);\r\n    if (locales.length) {\r\n        locales.forEach(locale => {\r\n            global.mergeLocaleMessage(locale, messages[locale]);\r\n        });\r\n    }\r\n    {\r\n        // merge datetime formats\r\n        if (shared.isObject(options.datetimeFormats)) {\r\n            const locales = Object.keys(options.datetimeFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n        // merge number formats\r\n        if (shared.isObject(options.numberFormats)) {\r\n            const locales = Object.keys(options.numberFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeNumberFormat(locale, options.numberFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction createTextNode(key) {\r\n    return vue.createVNode(vue.Text, null, key, 0)\r\n        ;\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n// extend VNode interface\r\nconst DEVTOOLS_META = '__INTLIFY_META__';\r\nlet composerID = 0;\r\nfunction defineCoreMissingHandler(missing) {\r\n    return ((ctx, locale, key, type) => {\r\n        return missing(locale, key, vue.getCurrentInstance() || undefined, type);\r\n    });\r\n}\r\n// for Intlify DevTools\r\nconst getMetaInfo =  () => {\r\n    const instance = vue.getCurrentInstance();\r\n    let meta = null; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    return instance && (meta = getComponentOptions(instance)[DEVTOOLS_META])\r\n        ? { [DEVTOOLS_META]: meta } // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        : null;\r\n};\r\n/**\r\n * Create composer interface factory\r\n *\r\n * @internal\r\n */\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction createComposer(options = {}, VueI18nLegacy) {\r\n    const { __root } = options;\r\n    const _isGlobal = __root === undefined;\r\n    let _inheritLocale = shared.isBoolean(options.inheritLocale)\r\n        ? options.inheritLocale\r\n        : true;\r\n    const _locale = vue.ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.locale.value\r\n        : shared.isString(options.locale)\r\n            ? options.locale\r\n            : coreBase.DEFAULT_LOCALE);\r\n    const _fallbackLocale = vue.ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.fallbackLocale.value\r\n        : shared.isString(options.fallbackLocale) ||\r\n            shared.isArray(options.fallbackLocale) ||\r\n            shared.isPlainObject(options.fallbackLocale) ||\r\n            options.fallbackLocale === false\r\n            ? options.fallbackLocale\r\n            : _locale.value);\r\n    const _messages = vue.ref(getLocaleMessages(_locale.value, options));\r\n    // prettier-ignore\r\n    const _datetimeFormats = vue.ref(shared.isPlainObject(options.datetimeFormats)\r\n            ? options.datetimeFormats\r\n            : { [_locale.value]: {} })\r\n        ;\r\n    // prettier-ignore\r\n    const _numberFormats = vue.ref(shared.isPlainObject(options.numberFormats)\r\n            ? options.numberFormats\r\n            : { [_locale.value]: {} })\r\n        ;\r\n    // warning suppress options\r\n    // prettier-ignore\r\n    let _missingWarn = __root\r\n        ? __root.missingWarn\r\n        : shared.isBoolean(options.missingWarn) || shared.isRegExp(options.missingWarn)\r\n            ? options.missingWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackWarn = __root\r\n        ? __root.fallbackWarn\r\n        : shared.isBoolean(options.fallbackWarn) || shared.isRegExp(options.fallbackWarn)\r\n            ? options.fallbackWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackRoot = __root\r\n        ? __root.fallbackRoot\r\n        : shared.isBoolean(options.fallbackRoot)\r\n            ? options.fallbackRoot\r\n            : true;\r\n    // configure fall back to root\r\n    let _fallbackFormat = !!options.fallbackFormat;\r\n    // runtime missing\r\n    let _missing = shared.isFunction(options.missing) ? options.missing : null;\r\n    let _runtimeMissing = shared.isFunction(options.missing)\r\n        ? defineCoreMissingHandler(options.missing)\r\n        : null;\r\n    // postTranslation handler\r\n    let _postTranslation = shared.isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    // prettier-ignore\r\n    let _warnHtmlMessage = __root\r\n        ? __root.warnHtmlMessage\r\n        : shared.isBoolean(options.warnHtmlMessage)\r\n            ? options.warnHtmlMessage\r\n            : true;\r\n    let _escapeParameter = !!options.escapeParameter;\r\n    // custom linked modifiers\r\n    // prettier-ignore\r\n    const _modifiers = __root\r\n        ? __root.modifiers\r\n        : shared.isPlainObject(options.modifiers)\r\n            ? options.modifiers\r\n            : {};\r\n    // pluralRules\r\n    let _pluralRules = options.pluralRules || (__root && __root.pluralRules);\r\n    // runtime context\r\n    // eslint-disable-next-line prefer-const\r\n    let _context;\r\n    const getCoreContext = () => {\r\n        _isGlobal && coreBase.setFallbackContext(null);\r\n        const ctxOptions = {\r\n            version: VERSION,\r\n            locale: _locale.value,\r\n            fallbackLocale: _fallbackLocale.value,\r\n            messages: _messages.value,\r\n            modifiers: _modifiers,\r\n            pluralRules: _pluralRules,\r\n            missing: _runtimeMissing === null ? undefined : _runtimeMissing,\r\n            missingWarn: _missingWarn,\r\n            fallbackWarn: _fallbackWarn,\r\n            fallbackFormat: _fallbackFormat,\r\n            unresolving: true,\r\n            postTranslation: _postTranslation === null ? undefined : _postTranslation,\r\n            warnHtmlMessage: _warnHtmlMessage,\r\n            escapeParameter: _escapeParameter,\r\n            messageResolver: options.messageResolver,\r\n            __meta: { framework: 'vue' }\r\n        };\r\n        {\r\n            ctxOptions.datetimeFormats = _datetimeFormats.value;\r\n            ctxOptions.numberFormats = _numberFormats.value;\r\n            ctxOptions.__datetimeFormatters = shared.isPlainObject(_context)\r\n                ? _context.__datetimeFormatters\r\n                : undefined;\r\n            ctxOptions.__numberFormatters = shared.isPlainObject(_context)\r\n                ? _context.__numberFormatters\r\n                : undefined;\r\n        }\r\n        {\r\n            ctxOptions.__v_emitter = shared.isPlainObject(_context)\r\n                ? _context.__v_emitter\r\n                : undefined;\r\n        }\r\n        const ctx = coreBase.createCoreContext(ctxOptions);\r\n        _isGlobal && coreBase.setFallbackContext(ctx);\r\n        return ctx;\r\n    };\r\n    _context = getCoreContext();\r\n    coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n    // track reactivity\r\n    function trackReactivityValues() {\r\n        return [\r\n                _locale.value,\r\n                _fallbackLocale.value,\r\n                _messages.value,\r\n                _datetimeFormats.value,\r\n                _numberFormats.value\r\n            ]\r\n            ;\r\n    }\r\n    // locale\r\n    const locale = vue.computed({\r\n        get: () => _locale.value,\r\n        set: val => {\r\n            _locale.value = val;\r\n            _context.locale = _locale.value;\r\n        }\r\n    });\r\n    // fallbackLocale\r\n    const fallbackLocale = vue.computed({\r\n        get: () => _fallbackLocale.value,\r\n        set: val => {\r\n            _fallbackLocale.value = val;\r\n            _context.fallbackLocale = _fallbackLocale.value;\r\n            coreBase.updateFallbackLocale(_context, _locale.value, val);\r\n        }\r\n    });\r\n    // messages\r\n    const messages = vue.computed(() => _messages.value);\r\n    // datetimeFormats\r\n    const datetimeFormats = /* #__PURE__*/ vue.computed(() => _datetimeFormats.value);\r\n    // numberFormats\r\n    const numberFormats = /* #__PURE__*/ vue.computed(() => _numberFormats.value);\r\n    // getPostTranslationHandler\r\n    function getPostTranslationHandler() {\r\n        return shared.isFunction(_postTranslation) ? _postTranslation : null;\r\n    }\r\n    // setPostTranslationHandler\r\n    function setPostTranslationHandler(handler) {\r\n        _postTranslation = handler;\r\n        _context.postTranslation = handler;\r\n    }\r\n    // getMissingHandler\r\n    function getMissingHandler() {\r\n        return _missing;\r\n    }\r\n    // setMissingHandler\r\n    function setMissingHandler(handler) {\r\n        if (handler !== null) {\r\n            _runtimeMissing = defineCoreMissingHandler(handler);\r\n        }\r\n        _missing = handler;\r\n        _context.missing = _runtimeMissing;\r\n    }\r\n    function isResolvedTranslateMessage(type, arg // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    ) {\r\n        return type !== 'translate' || !arg.resolvedMessage;\r\n    }\r\n    const wrapWithDeps = (fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) => {\r\n        trackReactivityValues(); // track reactive dependency\r\n        // NOTE: experimental !!\r\n        let ret;\r\n        {\r\n            try {\r\n                coreBase.setAdditionalMeta(getMetaInfo());\r\n                if (!_isGlobal) {\r\n                    _context.fallbackContext = __root\r\n                        ? coreBase.getFallbackContext()\r\n                        : undefined;\r\n                }\r\n                ret = fn(_context);\r\n            }\r\n            finally {\r\n                coreBase.setAdditionalMeta(null);\r\n                if (!_isGlobal) {\r\n                    _context.fallbackContext = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (shared.isNumber(ret) && ret === coreBase.NOT_REOSLVED) {\r\n            const [key, arg2] = argumentParser();\r\n            if (__root &&\r\n                shared.isString(key) &&\r\n                isResolvedTranslateMessage(warnType, arg2)) {\r\n                if (_fallbackRoot &&\r\n                    (coreBase.isTranslateFallbackWarn(_fallbackWarn, key) ||\r\n                        coreBase.isTranslateMissingWarn(_missingWarn, key))) {\r\n                    shared.warn(getWarnMessage(I18nWarnCodes.FALLBACK_TO_ROOT, {\r\n                        key,\r\n                        type: warnType\r\n                    }));\r\n                }\r\n                // for vue-devtools timeline event\r\n                {\r\n                    const { __v_emitter: emitter } = _context;\r\n                    if (emitter && _fallbackRoot) {\r\n                        emitter.emit(\"fallback\" /* FALBACK */, {\r\n                            type: warnType,\r\n                            key,\r\n                            to: 'global',\r\n                            groupId: `${warnType}:${key}`\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            return __root && _fallbackRoot\r\n                ? fallbackSuccess(__root)\r\n                : fallbackFail(key);\r\n        }\r\n        else if (successCondition(ret)) {\r\n            return ret;\r\n        }\r\n        else {\r\n            /* istanbul ignore next */\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE);\r\n        }\r\n    };\r\n    // t\r\n    function t(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.translate, null, [context, ...args]), () => coreBase.parseTranslateArgs(...args), 'translate', root => Reflect.apply(root.t, root, [...args]), key => key, val => shared.isString(val));\r\n    }\r\n    // rt\r\n    function rt(...args) {\r\n        const [arg1, arg2, arg3] = args;\r\n        if (arg3 && !shared.isObject(arg3)) {\r\n            throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n        }\r\n        return t(...[arg1, arg2, shared.assign({ resolvedMessage: true }, arg3 || {})]);\r\n    }\r\n    // d\r\n    function d(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.datetime, null, [context, ...args]), () => coreBase.parseDateTimeArgs(...args), 'datetime format', root => Reflect.apply(root.d, root, [...args]), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\r\n    }\r\n    // n\r\n    function n(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.number, null, [context, ...args]), () => coreBase.parseNumberArgs(...args), 'number format', root => Reflect.apply(root.n, root, [...args]), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\r\n    }\r\n    // for custom processor\r\n    function normalize(values) {\r\n        return values.map(val => shared.isString(val) || shared.isNumber(val) || shared.isBoolean(val)\r\n            ? createTextNode(String(val))\r\n            : val);\r\n    }\r\n    const interpolate = (val) => val;\r\n    const processor = {\r\n        normalize,\r\n        interpolate,\r\n        type: 'vnode'\r\n    };\r\n    // transrateVNode, using for `i18n-t` component\r\n    function transrateVNode(...args) {\r\n        return wrapWithDeps(context => {\r\n            let ret;\r\n            const _context = context;\r\n            try {\r\n                _context.processor = processor;\r\n                ret = Reflect.apply(coreBase.translate, null, [_context, ...args]);\r\n            }\r\n            finally {\r\n                _context.processor = null;\r\n            }\r\n            return ret;\r\n        }, () => coreBase.parseTranslateArgs(...args), 'translate', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[TransrateVNodeSymbol](...args), key => [createTextNode(key)], val => shared.isArray(val));\r\n    }\r\n    // numberParts, using for `i18n-n` component\r\n    function numberParts(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.number, null, [context, ...args]), () => coreBase.parseNumberArgs(...args), 'number format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[NumberPartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\r\n    }\r\n    // datetimeParts, using for `i18n-d` component\r\n    function datetimeParts(...args) {\r\n        return wrapWithDeps(context => Reflect.apply(coreBase.datetime, null, [context, ...args]), () => coreBase.parseDateTimeArgs(...args), 'datetime format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[DatetimePartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\r\n    }\r\n    function setPluralRules(rules) {\r\n        _pluralRules = rules;\r\n        _context.pluralRules = _pluralRules;\r\n    }\r\n    // te\r\n    function te(key, locale) {\r\n        const targetLocale = shared.isString(locale) ? locale : _locale.value;\r\n        const message = getLocaleMessage(targetLocale);\r\n        return _context.messageResolver(message, key) !== null;\r\n    }\r\n    function resolveMessages(key) {\r\n        let messages = null;\r\n        const locales = coreBase.fallbackWithLocaleChain(_context, _fallbackLocale.value, _locale.value);\r\n        for (let i = 0; i < locales.length; i++) {\r\n            const targetLocaleMessages = _messages.value[locales[i]] || {};\r\n            const messageValue = _context.messageResolver(targetLocaleMessages, key);\r\n            if (messageValue != null) {\r\n                messages = messageValue;\r\n                break;\r\n            }\r\n        }\r\n        return messages;\r\n    }\r\n    // tm\r\n    function tm(key) {\r\n        const messages = resolveMessages(key);\r\n        // prettier-ignore\r\n        return messages != null\r\n            ? messages\r\n            : __root\r\n                ? __root.tm(key) || {}\r\n                : {};\r\n    }\r\n    // getLocaleMessage\r\n    function getLocaleMessage(locale) {\r\n        return (_messages.value[locale] || {});\r\n    }\r\n    // setLocaleMessage\r\n    function setLocaleMessage(locale, message) {\r\n        _messages.value[locale] = message;\r\n        _context.messages = _messages.value;\r\n    }\r\n    // mergeLocaleMessage\r\n    function mergeLocaleMessage(locale, message) {\r\n        _messages.value[locale] = _messages.value[locale] || {};\r\n        deepCopy(message, _messages.value[locale]);\r\n        _context.messages = _messages.value;\r\n    }\r\n    // getDateTimeFormat\r\n    function getDateTimeFormat(locale) {\r\n        return _datetimeFormats.value[locale] || {};\r\n    }\r\n    // setDateTimeFormat\r\n    function setDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = format;\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        coreBase.clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // mergeDateTimeFormat\r\n    function mergeDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = shared.assign(_datetimeFormats.value[locale] || {}, format);\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        coreBase.clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // getNumberFormat\r\n    function getNumberFormat(locale) {\r\n        return _numberFormats.value[locale] || {};\r\n    }\r\n    // setNumberFormat\r\n    function setNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = format;\r\n        _context.numberFormats = _numberFormats.value;\r\n        coreBase.clearNumberFormat(_context, locale, format);\r\n    }\r\n    // mergeNumberFormat\r\n    function mergeNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = shared.assign(_numberFormats.value[locale] || {}, format);\r\n        _context.numberFormats = _numberFormats.value;\r\n        coreBase.clearNumberFormat(_context, locale, format);\r\n    }\r\n    // for debug\r\n    composerID++;\r\n    // watch root locale & fallbackLocale\r\n    if (__root && shared.inBrowser) {\r\n        vue.watch(__root.locale, (val) => {\r\n            if (_inheritLocale) {\r\n                _locale.value = val;\r\n                _context.locale = val;\r\n                coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n        vue.watch(__root.fallbackLocale, (val) => {\r\n            if (_inheritLocale) {\r\n                _fallbackLocale.value = val;\r\n                _context.fallbackLocale = val;\r\n                coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n    }\r\n    // define basic composition API!\r\n    const composer = {\r\n        id: composerID,\r\n        locale,\r\n        fallbackLocale,\r\n        get inheritLocale() {\r\n            return _inheritLocale;\r\n        },\r\n        set inheritLocale(val) {\r\n            _inheritLocale = val;\r\n            if (val && __root) {\r\n                _locale.value = __root.locale.value;\r\n                _fallbackLocale.value = __root.fallbackLocale.value;\r\n                coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        },\r\n        get availableLocales() {\r\n            return Object.keys(_messages.value).sort();\r\n        },\r\n        messages,\r\n        get modifiers() {\r\n            return _modifiers;\r\n        },\r\n        get pluralRules() {\r\n            return _pluralRules || {};\r\n        },\r\n        get isGlobal() {\r\n            return _isGlobal;\r\n        },\r\n        get missingWarn() {\r\n            return _missingWarn;\r\n        },\r\n        set missingWarn(val) {\r\n            _missingWarn = val;\r\n            _context.missingWarn = _missingWarn;\r\n        },\r\n        get fallbackWarn() {\r\n            return _fallbackWarn;\r\n        },\r\n        set fallbackWarn(val) {\r\n            _fallbackWarn = val;\r\n            _context.fallbackWarn = _fallbackWarn;\r\n        },\r\n        get fallbackRoot() {\r\n            return _fallbackRoot;\r\n        },\r\n        set fallbackRoot(val) {\r\n            _fallbackRoot = val;\r\n        },\r\n        get fallbackFormat() {\r\n            return _fallbackFormat;\r\n        },\r\n        set fallbackFormat(val) {\r\n            _fallbackFormat = val;\r\n            _context.fallbackFormat = _fallbackFormat;\r\n        },\r\n        get warnHtmlMessage() {\r\n            return _warnHtmlMessage;\r\n        },\r\n        set warnHtmlMessage(val) {\r\n            _warnHtmlMessage = val;\r\n            _context.warnHtmlMessage = val;\r\n        },\r\n        get escapeParameter() {\r\n            return _escapeParameter;\r\n        },\r\n        set escapeParameter(val) {\r\n            _escapeParameter = val;\r\n            _context.escapeParameter = val;\r\n        },\r\n        t,\r\n        getLocaleMessage,\r\n        setLocaleMessage,\r\n        mergeLocaleMessage,\r\n        getPostTranslationHandler,\r\n        setPostTranslationHandler,\r\n        getMissingHandler,\r\n        setMissingHandler,\r\n        [SetPluralRulesSymbol]: setPluralRules\r\n    };\r\n    {\r\n        composer.datetimeFormats = datetimeFormats;\r\n        composer.numberFormats = numberFormats;\r\n        composer.rt = rt;\r\n        composer.te = te;\r\n        composer.tm = tm;\r\n        composer.d = d;\r\n        composer.n = n;\r\n        composer.getDateTimeFormat = getDateTimeFormat;\r\n        composer.setDateTimeFormat = setDateTimeFormat;\r\n        composer.mergeDateTimeFormat = mergeDateTimeFormat;\r\n        composer.getNumberFormat = getNumberFormat;\r\n        composer.setNumberFormat = setNumberFormat;\r\n        composer.mergeNumberFormat = mergeNumberFormat;\r\n        composer[InejctWithOption] = options.__injectWithOption;\r\n        composer[TransrateVNodeSymbol] = transrateVNode;\r\n        composer[DatetimePartsSymbol] = datetimeParts;\r\n        composer[NumberPartsSymbol] = numberParts;\r\n    }\r\n    // for vue-devtools timeline event\r\n    {\r\n        composer[EnableEmitter] = (emitter) => {\r\n            _context.__v_emitter = emitter;\r\n        };\r\n        composer[DisableEmitter] = () => {\r\n            _context.__v_emitter = undefined;\r\n        };\r\n    }\r\n    return composer;\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/**\r\n * Convert to I18n Composer Options from VueI18n Options\r\n *\r\n * @internal\r\n */\r\nfunction convertComposerOptions(options) {\r\n    const locale = shared.isString(options.locale) ? options.locale : coreBase.DEFAULT_LOCALE;\r\n    const fallbackLocale = shared.isString(options.fallbackLocale) ||\r\n        shared.isArray(options.fallbackLocale) ||\r\n        shared.isPlainObject(options.fallbackLocale) ||\r\n        options.fallbackLocale === false\r\n        ? options.fallbackLocale\r\n        : locale;\r\n    const missing = shared.isFunction(options.missing) ? options.missing : undefined;\r\n    const missingWarn = shared.isBoolean(options.silentTranslationWarn) ||\r\n        shared.isRegExp(options.silentTranslationWarn)\r\n        ? !options.silentTranslationWarn\r\n        : true;\r\n    const fallbackWarn = shared.isBoolean(options.silentFallbackWarn) ||\r\n        shared.isRegExp(options.silentFallbackWarn)\r\n        ? !options.silentFallbackWarn\r\n        : true;\r\n    const fallbackRoot = shared.isBoolean(options.fallbackRoot)\r\n        ? options.fallbackRoot\r\n        : true;\r\n    const fallbackFormat = !!options.formatFallbackMessages;\r\n    const modifiers = shared.isPlainObject(options.modifiers) ? options.modifiers : {};\r\n    const pluralizationRules = options.pluralizationRules;\r\n    const postTranslation = shared.isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : undefined;\r\n    const warnHtmlMessage = shared.isString(options.warnHtmlInMessage)\r\n        ? options.warnHtmlInMessage !== 'off'\r\n        : true;\r\n    const escapeParameter = !!options.escapeParameterHtml;\r\n    const inheritLocale = shared.isBoolean(options.sync) ? options.sync : true;\r\n    if (options.formatter) {\r\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n    }\r\n    if (options.preserveDirectiveContent) {\r\n        shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n    }\r\n    let messages = options.messages;\r\n    if (shared.isPlainObject(options.sharedMessages)) {\r\n        const sharedMessages = options.sharedMessages;\r\n        const locales = Object.keys(sharedMessages);\r\n        messages = locales.reduce((messages, locale) => {\r\n            const message = messages[locale] || (messages[locale] = {});\r\n            shared.assign(message, sharedMessages[locale]);\r\n            return messages;\r\n        }, (messages || {}));\r\n    }\r\n    const { __i18n, __root, __injectWithOption } = options;\r\n    const datetimeFormats = options.datetimeFormats;\r\n    const numberFormats = options.numberFormats;\r\n    const flatJson = options.flatJson;\r\n    return {\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        flatJson,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        missing,\r\n        missingWarn,\r\n        fallbackWarn,\r\n        fallbackRoot,\r\n        fallbackFormat,\r\n        modifiers,\r\n        pluralRules: pluralizationRules,\r\n        postTranslation,\r\n        warnHtmlMessage,\r\n        escapeParameter,\r\n        messageResolver: options.messageResolver,\r\n        inheritLocale,\r\n        __i18n,\r\n        __root,\r\n        __injectWithOption\r\n    };\r\n}\r\n/**\r\n * create VueI18n interface factory\r\n *\r\n * @internal\r\n */\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction createVueI18n(options = {}, VueI18nLegacy) {\r\n    {\r\n        const composer = createComposer(convertComposerOptions(options));\r\n        // defines VueI18n\r\n        const vueI18n = {\r\n            // id\r\n            id: composer.id,\r\n            // locale\r\n            get locale() {\r\n                return composer.locale.value;\r\n            },\r\n            set locale(val) {\r\n                composer.locale.value = val;\r\n            },\r\n            // fallbackLocale\r\n            get fallbackLocale() {\r\n                return composer.fallbackLocale.value;\r\n            },\r\n            set fallbackLocale(val) {\r\n                composer.fallbackLocale.value = val;\r\n            },\r\n            // messages\r\n            get messages() {\r\n                return composer.messages.value;\r\n            },\r\n            // datetimeFormats\r\n            get datetimeFormats() {\r\n                return composer.datetimeFormats.value;\r\n            },\r\n            // numberFormats\r\n            get numberFormats() {\r\n                return composer.numberFormats.value;\r\n            },\r\n            // availableLocales\r\n            get availableLocales() {\r\n                return composer.availableLocales;\r\n            },\r\n            // formatter\r\n            get formatter() {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n                // dummy\r\n                return {\r\n                    interpolate() {\r\n                        return [];\r\n                    }\r\n                };\r\n            },\r\n            set formatter(val) {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_FORMATTER));\r\n            },\r\n            // missing\r\n            get missing() {\r\n                return composer.getMissingHandler();\r\n            },\r\n            set missing(handler) {\r\n                composer.setMissingHandler(handler);\r\n            },\r\n            // silentTranslationWarn\r\n            get silentTranslationWarn() {\r\n                return shared.isBoolean(composer.missingWarn)\r\n                    ? !composer.missingWarn\r\n                    : composer.missingWarn;\r\n            },\r\n            set silentTranslationWarn(val) {\r\n                composer.missingWarn = shared.isBoolean(val) ? !val : val;\r\n            },\r\n            // silentFallbackWarn\r\n            get silentFallbackWarn() {\r\n                return shared.isBoolean(composer.fallbackWarn)\r\n                    ? !composer.fallbackWarn\r\n                    : composer.fallbackWarn;\r\n            },\r\n            set silentFallbackWarn(val) {\r\n                composer.fallbackWarn = shared.isBoolean(val) ? !val : val;\r\n            },\r\n            // modifiers\r\n            get modifiers() {\r\n                return composer.modifiers;\r\n            },\r\n            // formatFallbackMessages\r\n            get formatFallbackMessages() {\r\n                return composer.fallbackFormat;\r\n            },\r\n            set formatFallbackMessages(val) {\r\n                composer.fallbackFormat = val;\r\n            },\r\n            // postTranslation\r\n            get postTranslation() {\r\n                return composer.getPostTranslationHandler();\r\n            },\r\n            set postTranslation(handler) {\r\n                composer.setPostTranslationHandler(handler);\r\n            },\r\n            // sync\r\n            get sync() {\r\n                return composer.inheritLocale;\r\n            },\r\n            set sync(val) {\r\n                composer.inheritLocale = val;\r\n            },\r\n            // warnInHtmlMessage\r\n            get warnHtmlInMessage() {\r\n                return composer.warnHtmlMessage ? 'warn' : 'off';\r\n            },\r\n            set warnHtmlInMessage(val) {\r\n                composer.warnHtmlMessage = val !== 'off';\r\n            },\r\n            // escapeParameterHtml\r\n            get escapeParameterHtml() {\r\n                return composer.escapeParameter;\r\n            },\r\n            set escapeParameterHtml(val) {\r\n                composer.escapeParameter = val;\r\n            },\r\n            // preserveDirectiveContent\r\n            get preserveDirectiveContent() {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n                return true;\r\n            },\r\n            set preserveDirectiveContent(val) {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE));\r\n            },\r\n            // pluralizationRules\r\n            get pluralizationRules() {\r\n                return composer.pluralRules || {};\r\n            },\r\n            // for internal\r\n            __composer: composer,\r\n            // t\r\n            t(...args) {\r\n                const [arg1, arg2, arg3] = args;\r\n                const options = {};\r\n                let list = null;\r\n                let named = null;\r\n                if (!shared.isString(arg1)) {\r\n                    throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n                }\r\n                const key = arg1;\r\n                if (shared.isString(arg2)) {\r\n                    options.locale = arg2;\r\n                }\r\n                else if (shared.isArray(arg2)) {\r\n                    list = arg2;\r\n                }\r\n                else if (shared.isPlainObject(arg2)) {\r\n                    named = arg2;\r\n                }\r\n                if (shared.isArray(arg3)) {\r\n                    list = arg3;\r\n                }\r\n                else if (shared.isPlainObject(arg3)) {\r\n                    named = arg3;\r\n                }\r\n                // return composer.t(key, (list || named || {}) as any, options)\r\n                return Reflect.apply(composer.t, composer, [\r\n                    key,\r\n                    (list || named || {}),\r\n                    options\r\n                ]);\r\n            },\r\n            rt(...args) {\r\n                return Reflect.apply(composer.rt, composer, [...args]);\r\n            },\r\n            // tc\r\n            tc(...args) {\r\n                const [arg1, arg2, arg3] = args;\r\n                const options = { plural: 1 };\r\n                let list = null;\r\n                let named = null;\r\n                if (!shared.isString(arg1)) {\r\n                    throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\r\n                }\r\n                const key = arg1;\r\n                if (shared.isString(arg2)) {\r\n                    options.locale = arg2;\r\n                }\r\n                else if (shared.isNumber(arg2)) {\r\n                    options.plural = arg2;\r\n                }\r\n                else if (shared.isArray(arg2)) {\r\n                    list = arg2;\r\n                }\r\n                else if (shared.isPlainObject(arg2)) {\r\n                    named = arg2;\r\n                }\r\n                if (shared.isString(arg3)) {\r\n                    options.locale = arg3;\r\n                }\r\n                else if (shared.isArray(arg3)) {\r\n                    list = arg3;\r\n                }\r\n                else if (shared.isPlainObject(arg3)) {\r\n                    named = arg3;\r\n                }\r\n                // return composer.t(key, (list || named || {}) as any, options)\r\n                return Reflect.apply(composer.t, composer, [\r\n                    key,\r\n                    (list || named || {}),\r\n                    options\r\n                ]);\r\n            },\r\n            // te\r\n            te(key, locale) {\r\n                return composer.te(key, locale);\r\n            },\r\n            // tm\r\n            tm(key) {\r\n                return composer.tm(key);\r\n            },\r\n            // getLocaleMessage\r\n            getLocaleMessage(locale) {\r\n                return composer.getLocaleMessage(locale);\r\n            },\r\n            // setLocaleMessage\r\n            setLocaleMessage(locale, message) {\r\n                composer.setLocaleMessage(locale, message);\r\n            },\r\n            // mergeLocaleMessage\r\n            mergeLocaleMessage(locale, message) {\r\n                composer.mergeLocaleMessage(locale, message);\r\n            },\r\n            // d\r\n            d(...args) {\r\n                return Reflect.apply(composer.d, composer, [...args]);\r\n            },\r\n            // getDateTimeFormat\r\n            getDateTimeFormat(locale) {\r\n                return composer.getDateTimeFormat(locale);\r\n            },\r\n            // setDateTimeFormat\r\n            setDateTimeFormat(locale, format) {\r\n                composer.setDateTimeFormat(locale, format);\r\n            },\r\n            // mergeDateTimeFormat\r\n            mergeDateTimeFormat(locale, format) {\r\n                composer.mergeDateTimeFormat(locale, format);\r\n            },\r\n            // n\r\n            n(...args) {\r\n                return Reflect.apply(composer.n, composer, [...args]);\r\n            },\r\n            // getNumberFormat\r\n            getNumberFormat(locale) {\r\n                return composer.getNumberFormat(locale);\r\n            },\r\n            // setNumberFormat\r\n            setNumberFormat(locale, format) {\r\n                composer.setNumberFormat(locale, format);\r\n            },\r\n            // mergeNumberFormat\r\n            mergeNumberFormat(locale, format) {\r\n                composer.mergeNumberFormat(locale, format);\r\n            },\r\n            // getChoiceIndex\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            getChoiceIndex(choice, choicesLength) {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX));\r\n                return -1;\r\n            },\r\n            // for internal\r\n            __onComponentInstanceCreated(target) {\r\n                const { componentInstanceCreatedListener } = options;\r\n                if (componentInstanceCreatedListener) {\r\n                    componentInstanceCreatedListener(target, vueI18n);\r\n                }\r\n            }\r\n        };\r\n        // for vue-devtools timeline event\r\n        {\r\n            vueI18n.__enableEmitter = (emitter) => {\r\n                const __composer = composer;\r\n                __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\r\n            };\r\n            vueI18n.__disableEmitter = () => {\r\n                const __composer = composer;\r\n                __composer[DisableEmitter] && __composer[DisableEmitter]();\r\n            };\r\n        }\r\n        return vueI18n;\r\n    }\r\n}\r\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst baseFormatProps = {\r\n    tag: {\r\n        type: [String, Object]\r\n    },\r\n    locale: {\r\n        type: String\r\n    },\r\n    scope: {\r\n        type: String,\r\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\r\n        validator: (val /* ComponetI18nScope */) => val === 'parent' || val === 'global',\r\n        default: 'parent' /* ComponetI18nScope */\r\n    },\r\n    i18n: {\r\n        type: Object\r\n    }\r\n};\n\nfunction getInterpolateArg(\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n{ slots }, // SetupContext,\r\nkeys) {\r\n    if (keys.length === 1 && keys[0] === 'default') {\r\n        // default slot with list\r\n        const ret = slots.default ? slots.default() : [];\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return ret.reduce((slot, current) => {\r\n            return (slot = [\r\n                ...slot,\r\n                ...(shared.isArray(current.children) ? current.children : [current])\r\n            ]);\r\n        }, []);\r\n    }\r\n    else {\r\n        // named slots\r\n        return keys.reduce((arg, key) => {\r\n            const slot = slots[key];\r\n            if (slot) {\r\n                arg[key] = slot();\r\n            }\r\n            return arg;\r\n        }, {});\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getFragmentableTag(tag) {\r\n    return vue.Fragment ;\r\n}\n\n/**\r\n * Translation Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [TranslationProps](component#translationprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\r\n *\r\n * @example\r\n * ```html\r\n * <div id=\"app\">\r\n *   <!-- ... -->\r\n *   <i18n path=\"term\" tag=\"label\" for=\"tos\">\r\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\r\n *   </i18n>\r\n *   <!-- ... -->\r\n * </div>\r\n * ```\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * const messages = {\r\n *   en: {\r\n *     tos: 'Term of Service',\r\n *     term: 'I accept xxx {0}.'\r\n *   },\r\n *   ja: {\r\n *     tos: '利用規約',\r\n *     term: '私は xxx の{0}に同意します。'\r\n *   }\r\n * }\r\n *\r\n * const i18n = createI18n({\r\n *   locale: 'en',\r\n *   messages\r\n * })\r\n *\r\n * const app = createApp({\r\n *   data: {\r\n *     url: '/term'\r\n *   }\r\n * }).use(i18n).mount('#app')\r\n * ```\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst Translation =  /* defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-t',\r\n    props: shared.assign({\r\n        keypath: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        plural: {\r\n            type: [Number, String],\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            validator: (val) => shared.isNumber(val) || !isNaN(val)\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const { slots, attrs } = context;\r\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\r\n        const i18n = props.i18n ||\r\n            useI18n({\r\n                useScope: props.scope,\r\n                __useComponent: true\r\n            });\r\n        return () => {\r\n            const keys = Object.keys(slots).filter(key => key !== '_');\r\n            const options = {};\r\n            if (props.locale) {\r\n                options.locale = props.locale;\r\n            }\r\n            if (props.plural !== undefined) {\r\n                options.plural = shared.isString(props.plural) ? +props.plural : props.plural;\r\n            }\r\n            const arg = getInterpolateArg(context, keys);\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const children = i18n[TransrateVNodeSymbol](props.keypath, arg, options);\r\n            const assignedAttrs = shared.assign({}, attrs);\r\n            const tag = shared.isString(props.tag) || shared.isObject(props.tag)\r\n                ? props.tag\r\n                : getFragmentableTag();\r\n            return vue.h(tag, assignedAttrs, children);\r\n        };\r\n    }\r\n};\n\nfunction isVNode(target) {\r\n    return shared.isArray(target) && !shared.isString(target[0]);\r\n}\r\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\r\n    const { slots, attrs } = context;\r\n    return () => {\r\n        const options = { part: true };\r\n        let overrides = {};\r\n        if (props.locale) {\r\n            options.locale = props.locale;\r\n        }\r\n        if (shared.isString(props.format)) {\r\n            options.key = props.format;\r\n        }\r\n        else if (shared.isObject(props.format)) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (shared.isString(props.format.key)) {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                options.key = props.format.key;\r\n            }\r\n            // Filter out number format options only\r\n            overrides = Object.keys(props.format).reduce((options, prop) => {\r\n                return slotKeys.includes(prop)\r\n                    ? shared.assign({}, options, { [prop]: props.format[prop] }) // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    : options;\r\n            }, {});\r\n        }\r\n        const parts = partFormatter(...[props.value, options, overrides]);\r\n        let children = [options.key];\r\n        if (shared.isArray(parts)) {\r\n            children = parts.map((part, index) => {\r\n                const slot = slots[part.type];\r\n                const node = slot\r\n                    ? slot({ [part.type]: part.value, index, parts })\r\n                    : [part.value];\r\n                if (isVNode(node)) {\r\n                    node[0].key = `${part.type}-${index}`;\r\n                }\r\n                return node;\r\n            });\r\n        }\r\n        else if (shared.isString(parts)) {\r\n            children = [parts];\r\n        }\r\n        const assignedAttrs = shared.assign({}, attrs);\r\n        const tag = shared.isString(props.tag) || shared.isObject(props.tag)\r\n            ? props.tag\r\n            : getFragmentableTag();\r\n        return vue.h(tag, assignedAttrs, children);\r\n    };\r\n}\n\n/**\r\n * Number Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst NumberFormat =  /* defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-n',\r\n    props: shared.assign({\r\n        value: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, coreBase.NUMBER_FORMAT_OPTIONS_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[NumberPartsSymbol](...args));\r\n    }\r\n};\n\n/**\r\n * Datetime Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst DatetimeFormat =  /*defineComponent */ {\r\n    /* eslint-disable */\r\n    name: 'i18n-d',\r\n    props: shared.assign({\r\n        value: {\r\n            type: [Number, Date],\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, coreBase.DATETIME_FORMAT_OPTIONS_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[DatetimePartsSymbol](...args));\r\n    }\r\n};\n\nfunction getComposer$1(i18n, instance) {\r\n    const i18nInternal = i18n;\r\n    if (i18n.mode === 'composition') {\r\n        return (i18nInternal.__getInstance(instance) || i18n.global);\r\n    }\r\n    else {\r\n        const vueI18n = i18nInternal.__getInstance(instance);\r\n        return vueI18n != null\r\n            ? vueI18n.__composer\r\n            : i18n.global.__composer;\r\n    }\r\n}\r\nfunction vTDirective(i18n) {\r\n    const _process = (binding) => {\r\n        const { instance, modifiers, value } = binding;\r\n        /* istanbul ignore if */\r\n        if (!instance || !instance.$) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        const composer = getComposer$1(i18n, instance.$);\r\n        if (modifiers.preserve) {\r\n            shared.warn(getWarnMessage(I18nWarnCodes.NOT_SUPPORTED_PRESERVE));\r\n        }\r\n        const parsedValue = parseValue(value);\r\n        return [\r\n            Reflect.apply(composer.t, composer, [...makeParams(parsedValue)]),\r\n            composer\r\n        ];\r\n    };\r\n    const register = (el, binding) => {\r\n        const [textContent, composer] = _process(binding);\r\n        if (shared.inBrowser && i18n.global === composer) {\r\n            // global scope only\r\n            el.__i18nWatcher = vue.watch(composer.locale, () => {\r\n                binding.instance && binding.instance.$forceUpdate();\r\n            });\r\n        }\r\n        el.__composer = composer;\r\n        el.textContent = textContent;\r\n    };\r\n    const unregister = (el) => {\r\n        if (shared.inBrowser && el.__i18nWatcher) {\r\n            el.__i18nWatcher();\r\n            el.__i18nWatcher = undefined;\r\n            delete el.__i18nWatcher;\r\n        }\r\n        if (el.__composer) {\r\n            el.__composer = undefined;\r\n            delete el.__composer;\r\n        }\r\n    };\r\n    const update = (el, { value }) => {\r\n        if (el.__composer) {\r\n            const composer = el.__composer;\r\n            const parsedValue = parseValue(value);\r\n            el.textContent = Reflect.apply(composer.t, composer, [\r\n                ...makeParams(parsedValue)\r\n            ]);\r\n        }\r\n    };\r\n    const getSSRProps = (binding) => {\r\n        const [textContent] = _process(binding);\r\n        return { textContent };\r\n    };\r\n    return {\r\n        created: register,\r\n        unmounted: unregister,\r\n        beforeUpdate: update,\r\n        getSSRProps\r\n    };\r\n}\r\nfunction parseValue(value) {\r\n    if (shared.isString(value)) {\r\n        return { path: value };\r\n    }\r\n    else if (shared.isPlainObject(value)) {\r\n        if (!('path' in value)) {\r\n            throw createI18nError(I18nErrorCodes.REQUIRED_VALUE, 'path');\r\n        }\r\n        return value;\r\n    }\r\n    else {\r\n        throw createI18nError(I18nErrorCodes.INVALID_VALUE);\r\n    }\r\n}\r\nfunction makeParams(value) {\r\n    const { path, locale, args, choice, plural } = value;\r\n    const options = {};\r\n    const named = args || {};\r\n    if (shared.isString(locale)) {\r\n        options.locale = locale;\r\n    }\r\n    if (shared.isNumber(choice)) {\r\n        options.plural = choice;\r\n    }\r\n    if (shared.isNumber(plural)) {\r\n        options.plural = plural;\r\n    }\r\n    return [path, named, options];\r\n}\n\nfunction apply(app, i18n, ...options) {\r\n    const pluginOptions = shared.isPlainObject(options[0])\r\n        ? options[0]\r\n        : {};\r\n    const useI18nComponentName = !!pluginOptions.useI18nComponentName;\r\n    const globalInstall = shared.isBoolean(pluginOptions.globalInstall)\r\n        ? pluginOptions.globalInstall\r\n        : true;\r\n    if (globalInstall && useI18nComponentName) {\r\n        shared.warn(getWarnMessage(I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE, {\r\n            name: Translation.name\r\n        }));\r\n    }\r\n    if (globalInstall) {\r\n        // install components\r\n        app.component(!useI18nComponentName ? Translation.name : 'i18n', Translation);\r\n        app.component(NumberFormat.name, NumberFormat);\r\n        app.component(DatetimeFormat.name, DatetimeFormat);\r\n    }\r\n    // install directive\r\n    {\r\n        app.directive('t', vTDirective(i18n));\r\n    }\r\n}\n\n/**\r\n * Supports compatibility for legacy vue-i18n APIs\r\n * This mixin is used when we use vue-i18n@v9.x or later\r\n */\r\nfunction defineMixin(vuei18n, composer, i18n) {\r\n    return {\r\n        beforeCreate() {\r\n            const instance = vue.getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n            }\r\n            const options = this.$options;\r\n            if (options.i18n) {\r\n                const optionsI18n = options.i18n;\r\n                if (options.__i18n) {\r\n                    optionsI18n.__i18n = options.__i18n;\r\n                }\r\n                optionsI18n.__root = composer;\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, optionsI18n);\r\n                }\r\n                else {\r\n                    optionsI18n.__injectWithOption = true;\r\n                    this.$i18n = createVueI18n(optionsI18n);\r\n                }\r\n            }\r\n            else if (options.__i18n) {\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, options);\r\n                }\r\n                else {\r\n                    this.$i18n = createVueI18n({\r\n                        __i18n: options.__i18n,\r\n                        __injectWithOption: true,\r\n                        __root: composer\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                // set global\r\n                this.$i18n = vuei18n;\r\n            }\r\n            if (options.__i18nGlobal) {\r\n                adjustI18nResources(composer, options, options);\r\n            }\r\n            vuei18n.__onComponentInstanceCreated(this.$i18n);\r\n            i18n.__setInstance(instance, this.$i18n);\r\n            // defines vue-i18n legacy APIs\r\n            this.$t = (...args) => this.$i18n.t(...args);\r\n            this.$rt = (...args) => this.$i18n.rt(...args);\r\n            this.$tc = (...args) => this.$i18n.tc(...args);\r\n            this.$te = (key, locale) => this.$i18n.te(key, locale);\r\n            this.$d = (...args) => this.$i18n.d(...args);\r\n            this.$n = (...args) => this.$i18n.n(...args);\r\n            this.$tm = (key) => this.$i18n.tm(key);\r\n        },\r\n        mounted() {\r\n        },\r\n        unmounted() {\r\n            const instance = vue.getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n            }\r\n            delete this.$t;\r\n            delete this.$rt;\r\n            delete this.$tc;\r\n            delete this.$te;\r\n            delete this.$d;\r\n            delete this.$n;\r\n            delete this.$tm;\r\n            i18n.__deleteInstance(instance);\r\n            delete this.$i18n;\r\n        }\r\n    };\r\n}\r\nfunction mergeToRoot(root, options) {\r\n    root.locale = options.locale || root.locale;\r\n    root.fallbackLocale = options.fallbackLocale || root.fallbackLocale;\r\n    root.missing = options.missing || root.missing;\r\n    root.silentTranslationWarn =\r\n        options.silentTranslationWarn || root.silentFallbackWarn;\r\n    root.silentFallbackWarn =\r\n        options.silentFallbackWarn || root.silentFallbackWarn;\r\n    root.formatFallbackMessages =\r\n        options.formatFallbackMessages || root.formatFallbackMessages;\r\n    root.postTranslation = options.postTranslation || root.postTranslation;\r\n    root.warnHtmlInMessage = options.warnHtmlInMessage || root.warnHtmlInMessage;\r\n    root.escapeParameterHtml =\r\n        options.escapeParameterHtml || root.escapeParameterHtml;\r\n    root.sync = options.sync || root.sync;\r\n    root.__composer[SetPluralRulesSymbol](options.pluralizationRules || root.pluralizationRules);\r\n    const messages = getLocaleMessages(root.locale, {\r\n        messages: options.messages,\r\n        __i18n: options.__i18n\r\n    });\r\n    Object.keys(messages).forEach(locale => root.mergeLocaleMessage(locale, messages[locale]));\r\n    if (options.datetimeFormats) {\r\n        Object.keys(options.datetimeFormats).forEach(locale => root.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\r\n    }\r\n    if (options.numberFormats) {\r\n        Object.keys(options.numberFormats).forEach(locale => root.mergeNumberFormat(locale, options.numberFormats[locale]));\r\n    }\r\n    return root;\r\n}\n\n/**\r\n * Injection key for {@link useI18n}\r\n *\r\n * @remarks\r\n * The global injection key for I18n instances with `useI18n`. this injection key is used in Web Components.\r\n * Specify the i18n instance created by {@link createI18n} together with `provide` function.\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst I18nInjectionKey = \r\n/* #__PURE__*/ shared.makeSymbol('global-vue-i18n');\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\nfunction createI18n(options = {}, VueI18nLegacy) {\r\n    // prettier-ignore\r\n    const __legacyMode = shared.isBoolean(options.legacy)\r\n            ? options.legacy\r\n            : true;\r\n    // prettier-ignore\r\n    const __globalInjection = shared.isBoolean(options.globalInjection)\r\n        ? options.globalInjection\r\n        : true;\r\n    // prettier-ignore\r\n    const __allowComposition = __legacyMode\r\n            ? !!options.allowComposition\r\n            : true;\r\n    const __instances = new Map();\r\n    const [globalScope, __global] = createGlobal(options, __legacyMode);\r\n    const symbol = shared.makeSymbol('vue-i18n' );\r\n    function __getInstance(component) {\r\n        return __instances.get(component) || null;\r\n    }\r\n    function __setInstance(component, instance) {\r\n        __instances.set(component, instance);\r\n    }\r\n    function __deleteInstance(component) {\r\n        __instances.delete(component);\r\n    }\r\n    {\r\n        const i18n = {\r\n            // mode\r\n            get mode() {\r\n                return __legacyMode\r\n                    ? 'legacy'\r\n                    : 'composition';\r\n            },\r\n            // allowComposition\r\n            get allowComposition() {\r\n                return __allowComposition;\r\n            },\r\n            // install plugin\r\n            async install(app, ...options) {\r\n                // setup global provider\r\n                app.__VUE_I18N_SYMBOL__ = symbol;\r\n                app.provide(app.__VUE_I18N_SYMBOL__, i18n);\r\n                // global method and properties injection for Composition API\r\n                if (!__legacyMode && __globalInjection) {\r\n                    injectGlobalFields(app, i18n.global);\r\n                }\r\n                // install built-in components and directive\r\n                {\r\n                    apply(app, i18n, ...options);\r\n                }\r\n                // setup mixin for Legacy API\r\n                if (__legacyMode) {\r\n                    app.mixin(defineMixin(__global, __global.__composer, i18n));\r\n                }\r\n                // release global scope\r\n                const unmountApp = app.unmount;\r\n                app.unmount = () => {\r\n                    i18n.dispose();\r\n                    unmountApp();\r\n                };\r\n            },\r\n            // global accessor\r\n            get global() {\r\n                return __global;\r\n            },\r\n            dispose() {\r\n                globalScope.stop();\r\n            },\r\n            // @internal\r\n            __instances,\r\n            // @internal\r\n            __getInstance,\r\n            // @internal\r\n            __setInstance,\r\n            // @internal\r\n            __deleteInstance\r\n        };\r\n        return i18n;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nfunction useI18n(options = {}) {\r\n    const instance = vue.getCurrentInstance();\r\n    if (instance == null) {\r\n        throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);\r\n    }\r\n    if (!instance.isCE &&\r\n        instance.appContext.app != null &&\r\n        !instance.appContext.app.__VUE_I18N_SYMBOL__) {\r\n        throw createI18nError(I18nErrorCodes.NOT_INSLALLED);\r\n    }\r\n    const i18n = getI18nInstance(instance);\r\n    const global = getGlobalComposer(i18n);\r\n    const componentOptions = getComponentOptions(instance);\r\n    const scope = getScope(options, componentOptions);\r\n    {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        if (i18n.mode === 'legacy' && !options.__useComponent) {\r\n            if (!i18n.allowComposition) {\r\n                throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);\r\n            }\r\n            return useI18nForLegacy(instance, scope, global, options);\r\n        }\r\n    }\r\n    if (scope === 'global') {\r\n        adjustI18nResources(global, options, componentOptions);\r\n        return global;\r\n    }\r\n    if (scope === 'parent') {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let composer = getComposer(i18n, instance, options.__useComponent);\r\n        if (composer == null) {\r\n            {\r\n                shared.warn(getWarnMessage(I18nWarnCodes.NOT_FOUND_PARENT_SCOPE));\r\n            }\r\n            composer = global;\r\n        }\r\n        return composer;\r\n    }\r\n    const i18nInternal = i18n;\r\n    let composer = i18nInternal.__getInstance(instance);\r\n    if (composer == null) {\r\n        const composerOptions = shared.assign({}, options);\r\n        if ('__i18n' in componentOptions) {\r\n            composerOptions.__i18n = componentOptions.__i18n;\r\n        }\r\n        if (global) {\r\n            composerOptions.__root = global;\r\n        }\r\n        composer = createComposer(composerOptions);\r\n        setupLifeCycle(i18nInternal, instance);\r\n        i18nInternal.__setInstance(instance, composer);\r\n    }\r\n    return composer;\r\n}\r\n/**\r\n * Cast to VueI18n legacy compatible type\r\n *\r\n * @remarks\r\n * This API is provided only with [vue-i18n-bridge](https://vue-i18n.intlify.dev/guide/migration/ways.html#what-is-vue-i18n-bridge).\r\n *\r\n * The purpose of this function is to convert an {@link I18n} instance created with {@link createI18n | createI18n(legacy: true)} into a `vue-i18n@v8.x` compatible instance of `new VueI18n` in a TypeScript environment.\r\n *\r\n * @param i18n - An instance of {@link I18n}\r\n * @returns A i18n instance which is casted to {@link VueI18n} type\r\n *\r\n * @VueI18nTip\r\n * :new: provided by **vue-i18n-bridge only**\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst castToVueI18n =  (i18n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n) => {\r\n    if (!(__VUE_I18N_BRIDGE__ in i18n)) {\r\n        throw createI18nError(I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N);\r\n    }\r\n    return i18n;\r\n};\r\nfunction createGlobal(options, legacyMode, VueI18nLegacy // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    const scope = vue.effectScope();\r\n    {\r\n        const obj = legacyMode\r\n            ? scope.run(() => createVueI18n(options))\r\n            : scope.run(() => createComposer(options));\r\n        if (obj == null) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        return [scope, obj];\r\n    }\r\n}\r\nfunction getI18nInstance(instance) {\r\n    {\r\n        const i18n = vue.inject(!instance.isCE\r\n            ? instance.appContext.app.__VUE_I18N_SYMBOL__\r\n            : I18nInjectionKey);\r\n        /* istanbul ignore if */\r\n        if (!i18n) {\r\n            throw createI18nError(!instance.isCE\r\n                ? I18nErrorCodes.UNEXPECTED_ERROR\r\n                : I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE);\r\n        }\r\n        return i18n;\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction getScope(options, componentOptions) {\r\n    // prettier-ignore\r\n    return shared.isEmptyObject(options)\r\n        ? ('__i18n' in componentOptions)\r\n            ? 'local'\r\n            : 'global'\r\n        : !options.useScope\r\n            ? 'local'\r\n            : options.useScope;\r\n}\r\nfunction getGlobalComposer(i18n) {\r\n    // prettier-ignore\r\n    return i18n.mode === 'composition'\r\n            ? i18n.global\r\n            : i18n.global.__composer\r\n        ;\r\n}\r\nfunction getComposer(i18n, target, useComponent = false) {\r\n    let composer = null;\r\n    const root = target.root;\r\n    let current = target.parent;\r\n    while (current != null) {\r\n        const i18nInternal = i18n;\r\n        if (i18n.mode === 'composition') {\r\n            composer = i18nInternal.__getInstance(current);\r\n        }\r\n        else {\r\n            {\r\n                const vueI18n = i18nInternal.__getInstance(current);\r\n                if (vueI18n != null) {\r\n                    composer = vueI18n\r\n                        .__composer;\r\n                    if (useComponent &&\r\n                        composer &&\r\n                        !composer[InejctWithOption] // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    ) {\r\n                        composer = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (composer != null) {\r\n            break;\r\n        }\r\n        if (root === current) {\r\n            break;\r\n        }\r\n        current = current.parent;\r\n    }\r\n    return composer;\r\n}\r\nfunction setupLifeCycle(i18n, target, composer) {\r\n    {\r\n        vue.onMounted(() => {\r\n        }, target);\r\n        vue.onUnmounted(() => {\r\n            i18n.__deleteInstance(target);\r\n        }, target);\r\n    }\r\n}\r\nfunction useI18nForLegacy(instance, scope, root, options = {} // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    const isLocale = scope === 'local';\r\n    const _composer = vue.shallowRef(null);\r\n    if (isLocale &&\r\n        instance.proxy &&\r\n        !(instance.proxy.$options.i18n || instance.proxy.$options.__i18n)) {\r\n        throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);\r\n    }\r\n    const _inheritLocale = shared.isBoolean(options.inheritLocale)\r\n        ? options.inheritLocale\r\n        : true;\r\n    const _locale = vue.ref(\r\n    // prettier-ignore\r\n    isLocale && _inheritLocale\r\n        ? root.locale.value\r\n        : shared.isString(options.locale)\r\n            ? options.locale\r\n            : coreBase.DEFAULT_LOCALE);\r\n    const _fallbackLocale = vue.ref(\r\n    // prettier-ignore\r\n    isLocale && _inheritLocale\r\n        ? root.fallbackLocale.value\r\n        : shared.isString(options.fallbackLocale) ||\r\n            shared.isArray(options.fallbackLocale) ||\r\n            shared.isPlainObject(options.fallbackLocale) ||\r\n            options.fallbackLocale === false\r\n            ? options.fallbackLocale\r\n            : _locale.value);\r\n    const _messages = vue.ref(getLocaleMessages(_locale.value, options));\r\n    // prettier-ignore\r\n    const _datetimeFormats = vue.ref(shared.isPlainObject(options.datetimeFormats)\r\n        ? options.datetimeFormats\r\n        : { [_locale.value]: {} });\r\n    // prettier-ignore\r\n    const _numberFormats = vue.ref(shared.isPlainObject(options.numberFormats)\r\n        ? options.numberFormats\r\n        : { [_locale.value]: {} });\r\n    // prettier-ignore\r\n    const _missingWarn = isLocale\r\n        ? root.missingWarn\r\n        : shared.isBoolean(options.missingWarn) || shared.isRegExp(options.missingWarn)\r\n            ? options.missingWarn\r\n            : true;\r\n    // prettier-ignore\r\n    const _fallbackWarn = isLocale\r\n        ? root.fallbackWarn\r\n        : shared.isBoolean(options.fallbackWarn) || shared.isRegExp(options.fallbackWarn)\r\n            ? options.fallbackWarn\r\n            : true;\r\n    // prettier-ignore\r\n    const _fallbackRoot = isLocale\r\n        ? root.fallbackRoot\r\n        : shared.isBoolean(options.fallbackRoot)\r\n            ? options.fallbackRoot\r\n            : true;\r\n    // configure fall back to root\r\n    const _fallbackFormat = !!options.fallbackFormat;\r\n    // runtime missing\r\n    const _missing = shared.isFunction(options.missing) ? options.missing : null;\r\n    // postTranslation handler\r\n    const _postTranslation = shared.isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    // prettier-ignore\r\n    const _warnHtmlMessage = isLocale\r\n        ? root.warnHtmlMessage\r\n        : shared.isBoolean(options.warnHtmlMessage)\r\n            ? options.warnHtmlMessage\r\n            : true;\r\n    const _escapeParameter = !!options.escapeParameter;\r\n    // prettier-ignore\r\n    const _modifiers = isLocale\r\n        ? root.modifiers\r\n        : shared.isPlainObject(options.modifiers)\r\n            ? options.modifiers\r\n            : {};\r\n    // pluralRules\r\n    const _pluralRules = options.pluralRules || (isLocale && root.pluralRules);\r\n    // track reactivity\r\n    function trackReactivityValues() {\r\n        return [\r\n            _locale.value,\r\n            _fallbackLocale.value,\r\n            _messages.value,\r\n            _datetimeFormats.value,\r\n            _numberFormats.value\r\n        ];\r\n    }\r\n    // locale\r\n    const locale = vue.computed({\r\n        get: () => {\r\n            return _composer.value ? _composer.value.locale.value : _locale.value;\r\n        },\r\n        set: val => {\r\n            if (_composer.value) {\r\n                _composer.value.locale.value = val;\r\n            }\r\n            _locale.value = val;\r\n        }\r\n    });\r\n    // fallbackLocale\r\n    const fallbackLocale = vue.computed({\r\n        get: () => {\r\n            return _composer.value\r\n                ? _composer.value.fallbackLocale.value\r\n                : _fallbackLocale.value;\r\n        },\r\n        set: val => {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackLocale.value = val;\r\n            }\r\n            _fallbackLocale.value = val;\r\n        }\r\n    });\r\n    // messages\r\n    const messages = vue.computed(() => {\r\n        if (_composer.value) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return _composer.value.messages.value;\r\n        }\r\n        else {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return _messages.value;\r\n        }\r\n    });\r\n    const datetimeFormats = vue.computed(() => _datetimeFormats.value);\r\n    const numberFormats = vue.computed(() => _numberFormats.value);\r\n    function getPostTranslationHandler() {\r\n        return _composer.value\r\n            ? _composer.value.getPostTranslationHandler()\r\n            : _postTranslation;\r\n    }\r\n    function setPostTranslationHandler(handler) {\r\n        if (_composer.value) {\r\n            _composer.value.setPostTranslationHandler(handler);\r\n        }\r\n    }\r\n    function getMissingHandler() {\r\n        return _composer.value ? _composer.value.getMissingHandler() : _missing;\r\n    }\r\n    function setMissingHandler(handler) {\r\n        if (_composer.value) {\r\n            _composer.value.setMissingHandler(handler);\r\n        }\r\n    }\r\n    function warpWithDeps(fn) {\r\n        trackReactivityValues();\r\n        return fn();\r\n    }\r\n    function t(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.t, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function rt(...args) {\r\n        return _composer.value\r\n            ? Reflect.apply(_composer.value.rt, null, [...args])\r\n            : '';\r\n    }\r\n    function d(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.d, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function n(...args) {\r\n        return _composer.value\r\n            ? warpWithDeps(() => Reflect.apply(_composer.value.n, null, [...args]))\r\n            : warpWithDeps(() => '');\r\n    }\r\n    function tm(key) {\r\n        return _composer.value ? _composer.value.tm(key) : {};\r\n    }\r\n    function te(key, locale) {\r\n        return _composer.value ? _composer.value.te(key, locale) : false;\r\n    }\r\n    function getLocaleMessage(locale) {\r\n        return _composer.value ? _composer.value.getLocaleMessage(locale) : {};\r\n    }\r\n    function setLocaleMessage(locale, message) {\r\n        if (_composer.value) {\r\n            _composer.value.setLocaleMessage(locale, message);\r\n            _messages.value[locale] = message;\r\n        }\r\n    }\r\n    function mergeLocaleMessage(locale, message) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeLocaleMessage(locale, message);\r\n        }\r\n    }\r\n    function getDateTimeFormat(locale) {\r\n        return _composer.value ? _composer.value.getDateTimeFormat(locale) : {};\r\n    }\r\n    function setDateTimeFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.setDateTimeFormat(locale, format);\r\n            _datetimeFormats.value[locale] = format;\r\n        }\r\n    }\r\n    function mergeDateTimeFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeDateTimeFormat(locale, format);\r\n        }\r\n    }\r\n    function getNumberFormat(locale) {\r\n        return _composer.value ? _composer.value.getNumberFormat(locale) : {};\r\n    }\r\n    function setNumberFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.setNumberFormat(locale, format);\r\n            _numberFormats.value[locale] = format;\r\n        }\r\n    }\r\n    function mergeNumberFormat(locale, format) {\r\n        if (_composer.value) {\r\n            _composer.value.mergeNumberFormat(locale, format);\r\n        }\r\n    }\r\n    const wrapper = {\r\n        get id() {\r\n            return _composer.value ? _composer.value.id : -1;\r\n        },\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        get inheritLocale() {\r\n            return _composer.value ? _composer.value.inheritLocale : _inheritLocale;\r\n        },\r\n        set inheritLocale(val) {\r\n            if (_composer.value) {\r\n                _composer.value.inheritLocale = val;\r\n            }\r\n        },\r\n        get availableLocales() {\r\n            return _composer.value\r\n                ? _composer.value.availableLocales\r\n                : Object.keys(_messages.value);\r\n        },\r\n        get modifiers() {\r\n            return (_composer.value ? _composer.value.modifiers : _modifiers);\r\n        },\r\n        get pluralRules() {\r\n            return (_composer.value ? _composer.value.pluralRules : _pluralRules);\r\n        },\r\n        get isGlobal() {\r\n            return _composer.value ? _composer.value.isGlobal : false;\r\n        },\r\n        get missingWarn() {\r\n            return _composer.value ? _composer.value.missingWarn : _missingWarn;\r\n        },\r\n        set missingWarn(val) {\r\n            if (_composer.value) {\r\n                _composer.value.missingWarn = val;\r\n            }\r\n        },\r\n        get fallbackWarn() {\r\n            return _composer.value ? _composer.value.fallbackWarn : _fallbackWarn;\r\n        },\r\n        set fallbackWarn(val) {\r\n            if (_composer.value) {\r\n                _composer.value.missingWarn = val;\r\n            }\r\n        },\r\n        get fallbackRoot() {\r\n            return _composer.value ? _composer.value.fallbackRoot : _fallbackRoot;\r\n        },\r\n        set fallbackRoot(val) {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackRoot = val;\r\n            }\r\n        },\r\n        get fallbackFormat() {\r\n            return _composer.value ? _composer.value.fallbackFormat : _fallbackFormat;\r\n        },\r\n        set fallbackFormat(val) {\r\n            if (_composer.value) {\r\n                _composer.value.fallbackFormat = val;\r\n            }\r\n        },\r\n        get warnHtmlMessage() {\r\n            return _composer.value\r\n                ? _composer.value.warnHtmlMessage\r\n                : _warnHtmlMessage;\r\n        },\r\n        set warnHtmlMessage(val) {\r\n            if (_composer.value) {\r\n                _composer.value.warnHtmlMessage = val;\r\n            }\r\n        },\r\n        get escapeParameter() {\r\n            return _composer.value\r\n                ? _composer.value.escapeParameter\r\n                : _escapeParameter;\r\n        },\r\n        set escapeParameter(val) {\r\n            if (_composer.value) {\r\n                _composer.value.escapeParameter = val;\r\n            }\r\n        },\r\n        t,\r\n        getPostTranslationHandler,\r\n        setPostTranslationHandler,\r\n        getMissingHandler,\r\n        setMissingHandler,\r\n        rt,\r\n        d,\r\n        n,\r\n        tm,\r\n        te,\r\n        getLocaleMessage,\r\n        setLocaleMessage,\r\n        mergeLocaleMessage,\r\n        getDateTimeFormat,\r\n        setDateTimeFormat,\r\n        mergeDateTimeFormat,\r\n        getNumberFormat,\r\n        setNumberFormat,\r\n        mergeNumberFormat\r\n    };\r\n    function sync(composer) {\r\n        composer.locale.value = _locale.value;\r\n        composer.fallbackLocale.value = _fallbackLocale.value;\r\n        Object.keys(_messages.value).forEach(locale => {\r\n            composer.mergeLocaleMessage(locale, _messages.value[locale]);\r\n        });\r\n        Object.keys(_datetimeFormats.value).forEach(locale => {\r\n            composer.mergeDateTimeFormat(locale, _datetimeFormats.value[locale]);\r\n        });\r\n        Object.keys(_numberFormats.value).forEach(locale => {\r\n            composer.mergeNumberFormat(locale, _numberFormats.value[locale]);\r\n        });\r\n        composer.escapeParameter = _escapeParameter;\r\n        composer.fallbackFormat = _fallbackFormat;\r\n        composer.fallbackRoot = _fallbackRoot;\r\n        composer.fallbackWarn = _fallbackWarn;\r\n        composer.missingWarn = _missingWarn;\r\n        composer.warnHtmlMessage = _warnHtmlMessage;\r\n    }\r\n    vue.onBeforeMount(() => {\r\n        if (instance.proxy == null || instance.proxy.$i18n == null) {\r\n            throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const composer = (_composer.value = instance.proxy.$i18n\r\n            .__composer);\r\n        if (scope === 'global') {\r\n            _locale.value = composer.locale.value;\r\n            _fallbackLocale.value = composer.fallbackLocale.value;\r\n            _messages.value = composer.messages.value;\r\n            _datetimeFormats.value = composer.datetimeFormats.value;\r\n            _numberFormats.value = composer.numberFormats.value;\r\n        }\r\n        else if (isLocale) {\r\n            sync(composer);\r\n        }\r\n    });\r\n    return wrapper;\r\n}\r\nconst globalExportProps = [\r\n    'locale',\r\n    'fallbackLocale',\r\n    'availableLocales'\r\n];\r\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm'] ;\r\nfunction injectGlobalFields(app, composer) {\r\n    const i18n = Object.create(null);\r\n    globalExportProps.forEach(prop => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, prop);\r\n        if (!desc) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        const wrap = vue.isRef(desc.value) // check computed props\r\n            ? {\r\n                get() {\r\n                    return desc.value.value;\r\n                },\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                set(val) {\r\n                    desc.value.value = val;\r\n                }\r\n            }\r\n            : {\r\n                get() {\r\n                    return desc.get && desc.get();\r\n                }\r\n            };\r\n        Object.defineProperty(i18n, prop, wrap);\r\n    });\r\n    app.config.globalProperties.$i18n = i18n;\r\n    globalExportMethods.forEach(method => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, method);\r\n        if (!desc || !desc.value) {\r\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\r\n        }\r\n        Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\r\n    });\r\n}\n\n// register message compiler at vue-i18n\r\ncoreBase.registerMessageCompiler(coreBase.compileToFunction);\r\n// register message resolver at vue-i18n\r\ncoreBase.registerMessageResolver(coreBase.resolveValue);\r\n// register fallback locale at vue-i18n\r\ncoreBase.registerLocaleFallbacker(coreBase.fallbackWithLocaleChain);\r\n// NOTE: experimental !!\r\n{\r\n    const target = shared.getGlobalThis();\r\n    target.__INTLIFY__ = true;\r\n    coreBase.setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\r\n}\n\nexports.DatetimeFormat = DatetimeFormat;\nexports.I18nInjectionKey = I18nInjectionKey;\nexports.NumberFormat = NumberFormat;\nexports.Translation = Translation;\nexports.VERSION = VERSION;\nexports.castToVueI18n = castToVueI18n;\nexports.createI18n = createI18n;\nexports.useI18n = useI18n;\nexports.vTDirective = vTDirective;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}